- en: Chapter 9 Hypothesis testing
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 第9章 假设检验
- en: 原文：[https://statsthinking21.github.io/statsthinking21-core-site/hypothesis-testing.html](https://statsthinking21.github.io/statsthinking21-core-site/hypothesis-testing.html)
  id: totrans-1
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: 原文：[https://statsthinking21.github.io/statsthinking21-core-site/hypothesis-testing.html](https://statsthinking21.github.io/statsthinking21-core-site/hypothesis-testing.html)
- en: 'In the first chapter we discussed the three major goals of statistics:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一章中，我们讨论了统计学的三个主要目标：
- en: Describe
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述
- en: Decide
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 决定
- en: Predict
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 预测
- en: In this chapter we will introduce the ideas behind the use of statistics to
    make decisions – in particular, decisions about whether a particular hypothesis
    is supported by the data.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将介绍使用统计数据做出决策的思想，特别是关于某个特定假设是否得到数据支持的决策。
- en: 9.1 Null Hypothesis Statistical Testing (NHST)
  id: totrans-7
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.1零假设统计检验（NHST）
- en: The specific type of hypothesis testing that we will discuss is known (for reasons
    that will become clear) as *null hypothesis statistical testing* (NHST). If you
    pick up almost any scientific or biomedical research publication, you will see
    NHST being used to test hypotheses, and in their introductory psychology textbook,
    Gerrig & Zimbardo (2002) referred to NHST as the “backbone of psychological research”.
    Thus, learning how to use and interpret the results from hypothesis testing is
    essential to understand the results from many fields of research.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将讨论的特定类型的假设检验被称为*零假设统计检验*（NHST）（出于将要明确的原因）。如果你拿起几乎任何科学或生物医学研究出版物，你会看到NHST被用来测试假设，在他们的心理学入门教科书中，Gerrig
    & Zimbardo（2002）将NHST称为“心理研究的支柱”。因此，学习如何使用和解释假设检验的结果对于理解许多研究领域的结果至关重要。
- en: 'It is also important for you to know, however, that NHST is deeply flawed,
    and that many statisticians and researchers (including myself) think that it has
    been the cause of serious problems in science, which we will discuss in Chapter
    [18](doing-reproducible-research.html#doing-reproducible-research). For more than
    50 years, there have been calls to abandon NHST in favor of other approaches (like
    those that we will discuss in the following chapters):'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，你也需要知道，NHST存在严重缺陷，许多统计学家和研究人员（包括我自己）认为它已经导致了科学上的严重问题，我们将在第[18]章（进行可重复研究.html#进行可重复研究）中讨论。50多年来，人们一直呼吁放弃NHST，转而采用其他方法（就像我们将在接下来的章节中讨论的那些方法）：
- en: “The test of statistical significance in psychological research may be taken
    as an instance of a kind of essential mindlessness in the conduct of research”
    (Bakan, 1966)
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: “心理研究中的统计显著性检验可以被视为研究进行中一种基本的无意识”（Bakan，1966）
- en: Hypothesis testing is “a wrongheaded view about what constitutes scientific
    progress” (Luce, 1988)
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 假设检验是“关于构成科学进步的错误观点”（Luce，1988）
- en: NHST is also widely misunderstood, largely because it violates our intuitions
    about how statistical hypothesis testing should work. Let’s look at an example
    to see this.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: NHST也被广泛误解，主要是因为它违反了我们对统计假设检验应该如何工作的直觉。让我们看一个例子来看看这一点。
- en: '9.2 Null hypothesis statistical testing: An example'
  id: totrans-13
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.2零假设统计检验：一个例子
- en: There is great interest in the use of body-worn cameras by police officers,
    which are thought to reduce the use of force and improve officer behavior. However,
    in order to establish this we need experimental evidence, and it has become increasingly
    common for governments to use randomized controlled trials to test such ideas.
    A randomized controlled trial of the effectiveness of body-worn cameras was performed
    by the Washington, DC government and DC Metropolitan Police Department in 2015/2016\.
    Officers were randomly assigned to wear a body-worn camera or not, and their behavior
    was then tracked over time to determine whether the cameras resulted in less use
    of force and fewer civilian complaints about officer behavior.
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 人们对警察佩戴身体摄像头的兴趣很大，认为这可以减少使用武力并改善警察的行为。然而，为了证实这一点，我们需要实验证据，政府越来越普遍地使用随机对照试验来测试这样的想法。华盛顿特区政府和华盛顿特区警察局在2015/2016年进行了一项关于身体摄像头有效性的随机对照试验。警察被随机分配佩戴或不佩戴身体摄像头，然后跟踪他们的行为，以确定摄像头是否导致使用武力减少以及有关警察行为的民事投诉减少。
- en: 'Before we get to the results, let’s ask how you would think the statistical
    analysis might work. Let’s say we want to specifically test the hypothesis of
    whether the use of force is decreased by the wearing of cameras. The randomized
    controlled trial provides us with the data to test the hypothesis – namely, the
    rates of use of force by officers assigned to either the camera or control groups.
    The next obvious step is to look at the data and determine whether they provide
    convincing evidence for or against this hypothesis. That is: What is the likelihood
    that body-worn cameras reduce the use of force, given the data and everything
    else we know?'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们得出结果之前，让我们问一下你认为统计分析可能是如何工作的。假设我们想具体测试佩戴摄像头是否减少使用武力的假设。随机对照试验为我们提供了测试假设的数据，即分配给摄像头组或对照组的警官使用武力的比率。下一个明显的步骤是查看数据，并确定它们是否提供有力的证据支持或反对这一假设。也就是说：鉴于数据和我们所知道的其他一切，佩戴身体摄像头是否减少了使用武力的可能性有多大？
- en: It turns out that this is *not* how null hypothesis testing works. Instead,
    we first take our hypothesis of interest (i.e. that body-worn cameras reduce use
    of force), and flip it on its head, creating a *null hypothesis* – in this case,
    the null hypothesis would be that cameras do not reduce use of force. Importantly,
    we then assume that the null hypothesis is true. We then look at the data, and
    determine how likely the data would be if the null hypothesis were true. If the
    the data are sufficiently unlikely under the null hypothesis that we can reject
    the null in favor of the *alternative hypothesis* which is our hypothesis of interest.
    If there is not sufficient evidence to reject the null, then we say that we retain
    (or “fail to reject”) the null, sticking with our initial assumption that the
    null is true.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 事实证明，这*不是*零假设检验的工作方式。相反，我们首先拿出我们感兴趣的假设（即佩戴身体摄像头会减少使用武力），然后将其颠倒过来，创建一个*零假设* -
    在这种情况下，零假设将是摄像头不会减少使用武力。重要的是，我们假设零假设为真。然后我们看数据，并确定如果零假设为真，数据会有多大可能性。如果数据在零假设下不够可能，我们可以拒绝零假设，支持*备择假设*，这是我们感兴趣的假设。如果没有足够的证据来拒绝零假设，那么我们说我们保留（或“未能拒绝”）零假设，坚持我们最初的假设零假设为真。
- en: Understanding some of the concepts of NHST, particularly the notorious “p-value”,
    is invariably challenging the first time one encounters them, because they are
    so counter-intuitive. As we will see later, there are other approaches that provide
    a much more intuitive way to address hypothesis testing (but have their own complexities).
    However, before we get to those, it’s important for you to have a deep understanding
    of how hypothesis testing works, because it’s clearly not going to go away any
    time soon.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 理解NHST的一些概念，特别是臭名昭著的“p值”，第一次遇到它们无疑是具有挑战性的，因为它们是如此违反直觉。正如我们将在后面看到的，还有其他方法可以提供更直观的方式来处理假设检验（但它们也有自己的复杂性）。然而，在我们接触这些方法之前，你有必要深刻理解假设检验的工作原理，因为显然它不会很快消失。
- en: 9.3 The process of null hypothesis testing
  id: totrans-18
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.3 零假设检验的过程
- en: 'We can break the process of null hypothesis testing down into a number of steps:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以将零假设检验的过程分解为几个步骤：
- en: Formulate a hypothesis that embodies our prediction (*before seeing the data*)
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 制定一个包含我们预测的假设（*在看到数据之前*）
- en: Specify null and alternative hypotheses
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 指定零假设和备择假设
- en: Collect some data relevant to the hypothesis
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 收集与假设相关的一些数据
- en: Fit a model to the data that represents the alternative hypothesis and compute
    a test statistic
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将模型拟合到代表备择假设的数据中，并计算一个检验统计量
- en: Compute the probability of the observed value of that statistic assuming that
    the null hypothesis is true
  id: totrans-24
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 计算假设为真时观察值的概率
- en: Assess the “statistical significance” of the result
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 评估结果的“统计显著性”
- en: 'For a hands-on example, let’s use the NHANES data to ask the following question:
    Is physical activity related to body mass index? In the NHANES dataset, participants
    were asked whether they engage regularly in moderate or vigorous-intensity sports,
    fitness or recreational activities (stored in the variable \(PhysActive\)). The
    researchers also measured height and weight and used them to compute the *Body
    Mass Index* (BMI):'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 举个实际例子，让我们使用NHANES数据来问以下问题：体力活动是否与身体质量指数有关？在NHANES数据集中，参与者被问及是否经常参与中等或剧烈强度的体育、健身或娱乐活动（存储在变量\(PhysActive\)中）。研究人员还测量了身高和体重，并用它们来计算*身体质量指数*（BMI）：
- en: \[ BMI = \frac{weight(kg)}{height(m)^2} \]
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: \[ BMI = \frac{weight(kg)}{height(m)^2} \]
- en: '9.3.1 Step 1: Formulate a hypothesis of interest'
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.1 步骤1：制定感兴趣的假设
- en: We hypothesize that BMI is greater for people who do not engage in physical
    activity, compared to those who do.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们假设不参与体力活动的人的BMI比参与的人更高。
- en: '9.3.2 Step 2: Specify the null and alternative hypotheses'
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.2 步骤2：指定零假设和备择假设
- en: 'For step 2, we need to specify our null hypothesis (which we call \(H_0\))
    and our alternative hypothesis (which we call \(H_A\)). \(H_0\) is the baseline
    against which we test our hypothesis of interest: that is, what would we expect
    the data to look like if there was no effect? The null hypothesis always involves
    some kind of equality (=, \(\le\), or \(\ge\)). \(H_A\) describes what we expect
    if there actually is an effect. The alternative hypothesis always involves some
    kind of inequality (\(\ne\), >, or <). Importantly, null hypothesis testing operates
    under the assumption that the null hypothesis is true unless the evidence shows
    otherwise.'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 对于步骤2，我们需要指定我们的零假设（我们称之为\(H_0\)）和我们的备择假设（我们称之为\(H_A\)）。\(H_0\)是我们测试感兴趣的假设的基准：也就是说，如果没有效应，我们期望数据看起来会是什么样子？零假设总是涉及某种形式的相等（=，\(\le\)或\(\ge\)）。\(H_A\)描述了如果实际上有效应，我们期望的情况。备择假设总是涉及某种形式的不等式（\(\ne\)，>或<）。重要的是，零假设检验在假设零假设为真的情况下进行。
- en: 'We also have to decide whether we want to test a *directional* or *non-directional*
    hypotheses. A non-directional hypothesis simply predicts that there will be a
    difference, without predicting which direction it will go. For the BMI/activity
    example, a non-directional null hypothesis would be:'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还必须决定是否要测试*定向*或*非定向*假设。非定向假设只是预测会有差异，而不预测差异的方向。对于BMI/活动的例子，非定向零假设将是：
- en: '\(H0: BMI_{active} = BMI_{inactive}\)'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '\(H0: BMI_{active} = BMI_{inactive}\)'
- en: 'and the corresponding non-directional alternative hypothesis would be:'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 相应的非定向备择假设将是：
- en: '\(HA: BMI_{active} \neq BMI_{inactive}\)'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: '\(HA: BMI_{active} \neq BMI_{inactive}\)'
- en: 'A directional hypothesis, on the other hand, predicts which direction the difference
    would go. For example, we have strong prior knowledge to predict that people who
    engage in physical activity should weigh less than those who do not, so we would
    propose the following directional null hypothesis:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 另一方面，定向假设预测了差异的方向。例如，我们有强烈的先验知识来预测参与体力活动的人应该比不参与的人体重更轻，因此我们提出以下定向零假设：
- en: '\(H0: BMI_{active} \ge BMI_{inactive}\)'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: '\(H0: BMI_{active} \ge BMI_{inactive}\)'
- en: 'and directional alternative:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 和定向备择假设：
- en: '\(HA: BMI_{active} < BMI_{inactive}\)'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: '\(HA: BMI_{active} < BMI_{inactive}\)'
- en: As we will see later, testing a non-directional hypothesis is more conservative,
    so this is generally to be preferred unless there is a strong *a priori* reason
    to hypothesize an effect in a particular direction. Hypotheses, including whether
    they are directional or not, should always be specified prior to looking at the
    data!
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 正如我们将在后面看到的，测试非定向假设更为保守，因此通常更可取，除非有强有力的*先验*理由假设特定方向上的效应。假设，包括它们是否是定向的，应该在查看数据之前始终明确指定！
- en: '9.3.3 Step 3: Collect some data'
  id: totrans-41
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.3 步骤3：收集一些数据
- en: In this case, we will sample 250 individuals from the NHANES dataset. Figure
    [9.1](hypothesis-testing.html#fig:bmiSample) shows an example of such a sample,
    with BMI shown separately for active and inactive individuals, and Table [9.1](hypothesis-testing.html#tab:summaryTable)
    shows summary statistics for each group.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们将从NHANES数据集中抽取250个个体。图[9.1](hypothesis-testing.html#fig:bmiSample)展示了这样一个样本的示例，其中BMI分别显示为活跃和不活跃的个体，表[9.1](hypothesis-testing.html#tab:summaryTable)显示了每组的摘要统计信息。
- en: 'Table 9.1: Summary of BMI data for active versus inactive individuals'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.1：活跃与不活跃个体的BMI数据总结
- en: '| PhysActive | N | mean | sd |'
  id: totrans-44
  prefs: []
  type: TYPE_TB
  zh: '| 体育活跃 | N | 均值 | 标准差 |'
- en: '| :-- | --: | --: | --: |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| :-- | --: | --: | --: |'
- en: '| No | 131 | 30 | 9.0 |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| 编号 | 131 | 30 | 9.0 |'
- en: '| Yes | 119 | 27 | 5.2 |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| 是 | 119 | 27 | 5.2 |'
- en: '![Box plot of BMI data from a sample of adults from the NHANES dataset, split
    by whether they reported engaging in regular physical activity.](../Images/aaf6a7e725b4ef2a090c1bf917ff5abd.png)'
  id: totrans-48
  prefs: []
  type: TYPE_IMG
  zh: '![来自NHANES数据集成年人样本的BMI数据的箱线图，按是否报告参与定期体育活动进行分割。](../Images/aaf6a7e725b4ef2a090c1bf917ff5abd.png)'
- en: 'Figure 9.1: Box plot of BMI data from a sample of adults from the NHANES dataset,
    split by whether they reported engaging in regular physical activity.'
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.1：来自NHANES数据集成年人样本的BMI数据的箱线图，按是否报告参与定期体育活动进行分割。
- en: '9.3.4 Step 4: Fit a model to the data and compute a test statistic'
  id: totrans-50
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.4 步骤4：对数据进行建模并计算检验统计量
- en: We next want to use the data to compute a statistic that will ultimately let
    us decide whether the null hypothesis is rejected or not. To do this, the model
    needs to quantify the amount of evidence in favor of the alternative hypothesis,
    relative to the variability in the data. Thus we can think of the test statistic
    as providing a measure of the size of the effect compared to the variability in
    the data. In general, this test statistic will have a probability distribution
    associated with it, because that allows us to determine how likely our observed
    value of the statistic is under the null hypothesis.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们希望使用数据计算一个统计量，最终让我们决定是否拒绝零假设。为此，模型需要量化支持备择假设的证据量，相对于数据的变异性。因此，我们可以将检验统计量视为提供效应大小相对于数据变异性的一种度量。一般来说，这个检验统计量将与概率分布相关联，因为这使我们能够确定在零假设下我们观察到的统计量的概率有多大。
- en: 'For the BMI example, we need a test statistic that allows us to test for a
    difference between two means, since the hypotheses are stated in terms of mean
    BMI for each group. One statistic that is often used to compare two means is the
    *t* statistic, first developed by the statistician William Sealy Gossett, who
    worked for the Guiness Brewery in Dublin and wrote under the pen name “Student”
    - hence, it is often called “Student’s *t* statistic”. The *t* statistic is appropriate
    for comparing the means of two groups when the sample sizes are relatively small
    and the population standard deviation is unknown. The *t* statistic for comparison
    of two independent groups is computed as:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 对于BMI的例子，我们需要一个检验统计量，允许我们测试两个均值之间的差异，因为假设是以每组的平均BMI来陈述的。经常用于比较两个均值的统计量是*t*统计量，最初由统计学家威廉·西利·高斯特(Wiliam
    Sealy Gossett)开发，他在都柏林的吉尼斯啤酒厂工作，并以笔名“学生”写作，因此通常被称为“学生*t*统计量”。当样本量相对较小且总体标准差未知时，*t*统计量适用于比较两组的均值。用于比较两个独立组的*t*统计量计算如下：
- en: \[ t = \frac{\bar{X_1} - \bar{X_2}}{\sqrt{\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}}}
    \]
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: \[ t = \frac{\bar{X_1} - \bar{X_2}}{\sqrt{\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}}}
    \]
- en: where \(\bar{X}_1\) and \(\bar{X}_2\) are the means of the two groups, \(S^2_1\)
    and \(S^2_2\) are the estimated variances of the groups, and \(n_1\) and \(n_2\)
    are the sizes of the two groups. Because the variance of a difference between
    two independent variables is the sum of the variances of each individual variable
    (\(var(A - B) = var(A) + var(B)\)), we add the variances for each group divided
    by their sample sizes in order to compute the standard error of the difference.
    Thus, one can view the the *t* statistic as a way of quantifying how large the
    difference between groups is in relation to the sampling variability of the difference
    between means.
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 其中\(\bar{X}_1\)和\(\bar{X}_2\)是两组的均值，\(S^2_1\)和\(S^2_2\)是两组的估计方差，\(n_1\)和\(n_2\)是两组的样本量。因为两个独立变量的差异的方差是每个单独变量的方差的总和(\(var(A
    - B) = var(A) + var(B)\))，我们将每组的方差除以它们的样本量，以计算差异的标准误差。因此，可以将*t*统计量视为量化组间差异与均值差异的抽样变异性之间的大小关系的一种方式。
- en: 'The *t* statistic is distributed according to a probability distribution known
    as a *t* distribution. The *t* distribution looks quite similar to a normal distribution,
    but it differs depending on the number of degrees of freedom. When the degrees
    of freedom are large (say 1000), then the *t* distribution looks essentially like
    the normal distribution, but when they are small then the *t* distribution has
    longer tails than the normal (see Figure [9.2](hypothesis-testing.html#fig:tVersusNormal)).
    In the simplest case, where the groups are the same size and have equal variance,
    the degrees of freedom for the *t* test is the number of observations minus 2,
    since we have computed two means and thus given up two degrees of freedom. In
    this case it’s pretty clear from the box plot that the inactive group is more
    variable than then active group, and the numbers in each group differ, so we need
    to use a slightly more complex formula for the degrees of freedom, which is often
    referred to as a “Welch t-test”. The formula is:'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '*t*统计量根据一个被称为*t*分布的概率分布进行分布。*t*分布看起来非常类似于正态分布，但它根据自由度的数量而有所不同。当自由度很大（比如1000），那么*t*分布看起来基本上就像正态分布，但当自由度很小时，*t*分布的尾部比正态分布要长（见图[9.2](hypothesis-testing.html#fig:tVersusNormal)）。在最简单的情况下，如果组的大小相同且方差相等，*t*检验的自由度就是观察值的数量减去2，因为我们计算了两个均值，因此放弃了两个自由度。在这种情况下，从箱线图中很明显可以看出，非活跃组的变异性比活跃组更大，并且每组的数字也不同，因此我们需要使用一个稍微复杂一点的自由度公式，通常被称为“韦尔奇t检验”。公式为：'
- en: \[ \mathrm{d.f.} = \frac{\left(\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}\right)^2}{\frac{\left(S_1^2/n_1\right)^2}{n_1-1}
    + \frac{\left(S_2^2/n_2\right)^2}{n_2-1}} \] This will be equal to \(n_1 + n_2
    - 2\) when the variances and sample sizes are equal, and otherwise will be smaller,
    in effect imposing a penalty on the test for differences in sample size or variance.
    For this example, that comes out to 241.12 which is slightly below the value of
    248 that one would get by subtracting 2 from the sample size.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: \[ \mathrm{d.f.} = \frac{\left(\frac{S_1^2}{n_1} + \frac{S_2^2}{n_2}\right)^2}{\frac{\left(S_1^2/n_1\right)^2}{n_1-1}
    + \frac{\left(S_2^2/n_2\right)^2}{n_2-1}} \] 当方差和样本大小相等时，这将等于\(n_1 + n_2 - 2\)，否则会更小，实际上对样本大小或方差的差异对检验施加了惩罚。对于这个例子，计算结果为241.12，略低于从样本大小减去2得到的248。
- en: '![Each panel shows the t distribution (in blue dashed line) overlaid on the
    normal distribution (in solid red line).  The left panel shows a t distribution
    with 4 degrees of freedom, in which case the distribution is similar but has slightly
    wider tails.  The right panel shows a t distribution with 1000 degrees of freedom,
    in which case it is virtually identical to the normal.](../Images/957d1bf7318bf6796959b73e85d18918.png)'
  id: totrans-57
  prefs: []
  type: TYPE_IMG
  zh: '![每个面板显示了t分布（蓝色虚线）叠加在正态分布（红色实线）上。左面板显示了自由度为4的t分布，此时分布类似但尾部略宽。右面板显示了自由度为1000的t分布，此时它几乎与正态分布相同。](../Images/957d1bf7318bf6796959b73e85d18918.png)'
- en: 'Figure 9.2: Each panel shows the t distribution (in blue dashed line) overlaid
    on the normal distribution (in solid red line). The left panel shows a t distribution
    with 4 degrees of freedom, in which case the distribution is similar but has slightly
    wider tails. The right panel shows a t distribution with 1000 degrees of freedom,
    in which case it is virtually identical to the normal.'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.2：每个面板显示了t分布（蓝色虚线）叠加在正态分布（红色实线）上。左面板显示了自由度为4的t分布，此时分布类似但尾部略宽。右面板显示了自由度为1000的t分布，此时它几乎与正态分布相同。
- en: '9.3.5 Step 5: Determine the probability of the observed result under the null
    hypothesis'
  id: totrans-59
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.5 第5步：确定零假设下观察结果的概率
- en: This is the step where NHST starts to violate our intuition. Rather than determining
    the likelihood that the null hypothesis is true given the data, we instead determine
    the likelihood under the null hypothesis of observing a statistic at least as
    extreme as one that we have observed — because we started out by assuming that
    the null hypothesis is true! To do this, we need to know the expected probability
    distribution for the statistic under the null hypothesis, so that we can ask how
    likely the result would be under that distribution. Note that when I say “how
    likely the result would be”, what I really mean is “how likely the observed result
    or one more extreme would be”. There are (at least) two reasons that we need to
    add this caveat. The first is that when we are talking about continuous values,
    the probability of any particular value is zero (as you might remember if you’ve
    taken a calculus class). More importantly, we are trying to determine how weird
    our result would be if the null hypothesis were true, and any result that is more
    extreme will be even more weird, so we want to count all of those weirder possibilities
    when we compute the probability of our result under the null hypothesis.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 这一步是NHST开始违反我们的直觉的地方。我们不是确定在数据给定的情况下零假设为真的可能性，而是确定在零假设下观察到至少与我们观察到的统计量一样极端的可能性
    — 因为我们最初假设零假设为真！为了做到这一点，我们需要知道在零假设下统计量的预期概率分布，这样我们就可以问在该分布下结果有多大可能性。请注意，当我说“结果有多大可能性”时，我真正的意思是“观察到的结果或更极端的结果有多大可能性”。我们需要添加这个警告的原因至少有两个。第一个是当我们谈论连续值时，任何特定值的概率都是零（如果你上过微积分课程，可能还记得）。更重要的是，我们试图确定如果零假设成立，我们的结果有多奇怪，任何更极端的结果都会更奇怪，因此在计算零假设下我们的结果的概率时，我们希望计算所有这些更奇怪的可能性。
- en: We can obtain this “null distribution” either using a theoretical distribution
    (like the *t* distribution), or using randomization. Before we move to our BMI
    example, let’s start with some simpler examples.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用理论分布（如*t*分布）或使用随机化来获得这个“零分布”。在我们转向BMI的例子之前，让我们从一些更简单的例子开始。
- en: '9.3.5.1 P-values: A very simple example'
  id: totrans-62
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.5.1 P值：一个非常简单的例子
- en: 'Let’s say that we wish to determine whether a particular coin is biased towards
    landing heads. To collect data, we flip the coin 100 times, and let’s say we count
    70 heads. In this example, \(H_0: P(heads) \le 0.5\) and \(H_A: P(heads) > 0.5\),
    and our test statistic is simply the number of heads that we counted. The question
    that we then want to ask is: How likely is it that we would observe 70 or more
    heads in 100 coin flips if the true probability of heads is 0.5? We can imagine
    that this might happen very occasionally just by chance, but doesn’t seem very
    likely. To quantify this probability, we can use the *binomial distribution*:'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '假设我们想要确定一枚特定硬币是否有偏向翻转为正面的倾向。为了收集数据，我们翻转了100次硬币，假设我们数到了70次正面。在这个例子中，\(H_0: P(正面)
    \le 0.5\) 和 \(H_A: P(正面) > 0.5\)，我们的检验统计量就是我们数到的正面次数。然后我们想要问的问题是：如果正面的真实概率是0.5，那么我们观察到100次翻转中70次或更多正面的可能性有多大？我们可以想象这可能偶尔会发生，但似乎不太可能。为了量化这个概率，我们可以使用*二项分布*：'
- en: '\[ P(X \le k) = \sum_{i=0}^k \binom{N}{k} p^i (1-p)^{(n-i)} \] This equation
    will tell us the probability of a certain number of heads (\(k\)) or fewer, given
    a particular probability of heads (\(p\)) and number of events (\(N\)). However,
    what we really want to know is the probability of a certain number or more, which
    we can obtain by subtracting from one, based on the rules of probability:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P(X \le k) = \sum_{i=0}^k \binom{N}{k} p^i (1-p)^{(n-i)} \] 这个方程将告诉我们在特定的头像概率（\(p\)）和事件数量（\(N\)）的情况下，特定数量的头像（\(k\)）或更少的概率。然而，我们真正想知道的是特定数量或更多的概率，我们可以通过减去一来获得，根据概率规则：
- en: \[ P(X \ge k) = 1 - P(X < k) \]
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: \[ P(X \ge k) = 1 - P(X < k) \]
- en: '![Distribution of numbers of heads (out of 100 flips) across 100,000 simulated
    runs with the observed value of 70 flips represented by the vertical line.](../Images/f4fe81d2a49f3993c817751e438eab55.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![100,000次模拟运行中头像数量（100次翻转）的分布，观察到的70次翻转由垂直线表示。](../Images/f4fe81d2a49f3993c817751e438eab55.png)'
- en: 'Figure 9.3: Distribution of numbers of heads (out of 100 flips) across 100,000
    simulated runs with the observed value of 70 flips represented by the vertical
    line.'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.3：100,000次模拟运行中头像数量（100次翻转）的分布，观察到的70次翻转由垂直线表示。
- en: Using the binomial distribution, the probability of 69 or fewer heads given
    P(heads)=0.5 is 0.999961, so the probability of 70 or more heads is simply one
    minus that value (0.000039). This computation shows us that the likelihood of
    getting 70 or more heads if the coin is indeed fair is very small.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 使用二项分布，给定P(头像)=0.5，69个或更少头像的概率为0.999961，因此70个或更多头像的概率就是1减去这个值（0.000039）。这个计算告诉我们，如果硬币确实是公平的，那么得到70个或更多头像的可能性是非常小的。
- en: Now, what if we didn’t have a standard function to tell us the probability of
    that number of heads? We could instead determine it by simulation – we repeatedly
    flip a coin 100 times using a true probability of 0.5, and then compute the distribution
    of the number of heads across those simulation runs. Figure [9.3](hypothesis-testing.html#fig:coinFlips)
    shows the result from this simulation. Here we can see that the probability computed
    via simulation (0.000030) is very close to the theoretical probability (0.000039).
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，如果我们没有一个标准函数告诉我们那个数量的头像的概率会怎么样？我们可以通过模拟来确定，我们重复翻转一枚硬币100次，使用真实概率0.5，然后计算这些模拟运行中头像数量的分布。图9.3显示了这个模拟的结果。在这里我们可以看到，通过模拟计算的概率（0.000030）非常接近理论概率（0.000039）。
- en: 9.3.5.2 Computing p-values using the *t* distribution
  id: totrans-70
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.5.2 使用*t*分布计算p值
- en: 'Now let’s compute a p-value for our BMI example using the *t* distribution.
    First we compute the *t* statistic using the values from our sample that we calculated
    above, where we find that t = 3.86\. The question that we then want to ask is:
    What is the likelihood that we would find a *t* statistic of this size, if the
    true difference between groups is zero or less (i.e. the directional null hypothesis)?'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们使用*t*分布来计算我们BMI示例的p值。首先，我们使用上面计算的样本值计算*t*统计量，我们发现t = 3.86。然后我们想要问的问题是：如果组之间的真实差异为零或更小（即方向性零假设），那么我们会发现这样大小的*t*统计量的可能性是多少？
- en: We can use the *t* distribution to determine this probability. Above we noted
    that the appropriate degrees of freedom (after correcting for differences in variance
    and sample size) was t = 241.12\. We can use a function from our statistical software
    to determine the probability of finding a value of the *t* statistic greater than
    or equal to our observed value. We find that p(t > 3.86, df = 241.12) = 0.000072,
    which tells us that our observed *t* statistic value of 3.86 is relatively unlikely
    if the null hypothesis really is true.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以使用*t*分布来确定这个概率。在上面我们注意到，适当的自由度（在校正方差和样本大小的差异后）是t = 241.12。我们可以使用统计软件中的函数来确定找到大于或等于我们观察到的*t*统计值的概率。我们发现
    p(t > 3.86, df = 241.12) = 0.000072，这告诉我们，如果零假设确实成立，那么我们观察到的*t*统计值3.86相对不太可能。
- en: 'In this case, we used a directional hypothesis, so we only had to look at one
    end of the null distribution. If we wanted to test a non-directional hypothesis,
    then we would need to be able to identify how unexpected the size of the effect
    is, regardless of its direction. In the context of the t-test, this means that
    we need to know how likely it is that the statistic would be as extreme in either
    the positive or negative direction. To do this, we multiply the observed *t* value
    by -1, since the *t* distribution is centered around zero, and then add together
    the two tail probabilities to get a *two-tailed* p-value: p(t > 3.86 or t< -3.86,
    df = 241.12) = 0.000145\. Here we see that the p value for the two-tailed test
    is twice as large as that for the one-tailed test, which reflects the fact that
    an extreme value is less surprising since it could have occurred in either direction.'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，我们使用了定向假设，因此我们只需要查看零分布的一端。如果我们想要测试非定向假设，那么我们需要能够确定效应大小的意外程度，而不考虑其方向。在
    t 检验的背景下，这意味着我们需要知道统计量在正向或负向方向上有多么意外的可能性。为了做到这一点，我们将观察到的 *t* 值乘以 -1，因为 *t* 分布以零为中心，然后将两个尾部概率相加，得到
    *双尾* p 值：p(t > 3.86 或 t< -3.86, df = 241.12) = 0.000145。在这里，我们看到双尾检验的 p 值是单尾检验的两倍，这反映了一个极端值不那么令人惊讶，因为它可能发生在任何方向。
- en: How do you choose whether to use a one-tailed versus a two-tailed test? The
    two-tailed test is always going to be more conservative, so it’s always a good
    bet to use that one, unless you had a very strong prior reason for using a one-tailed
    test. In that case, you should have written down the hypothesis before you ever
    looked at the data. In Chapter [18](doing-reproducible-research.html#doing-reproducible-research)
    we will discuss the idea of pre-registration of hypotheses, which formalizes the
    idea of writing down your hypotheses before you ever see the actual data. You
    should *never* make a decision about how to perform a hypothesis test once you
    have looked at the data, as this can introduce serious bias into the results.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 你如何选择使用单尾还是双尾检验？双尾检验总是更保守，所以最好使用双尾检验，除非你有非常强烈的先验理由使用单尾检验。在这种情况下，你应该在查看数据之前就写下假设。在第[18](doing-reproducible-research.html#doing-reproducible-research)章中，我们将讨论假设的预先注册的概念，这正式了在查看实际数据之前写下假设的想法。一旦查看了数据，你绝对*不应该*对如何进行假设检验做出决定，因为这可能会导致结果严重偏倚。
- en: 9.3.5.3 Computing p-values using randomization
  id: totrans-75
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.5.3 使用随机化计算 p 值
- en: 'So far we have seen how we can use the t-distribution to compute the probability
    of the data under the null hypothesis, but we can also do this using simulation.
    The basic idea is that we generate simulated data like those that we would expect
    under the null hypothesis, and then ask how extreme the observed data are in comparison
    to those simulated data. The key question is: How can we generate data for which
    the null hypothesis is true? The general answer is that we can randomly rearrange
    the data in a particular way that makes the data look like they would if the null
    was really true. This is similar to the idea of bootstrapping, in the sense that
    it uses our own data to come up with an answer, but it does it in a different
    way.'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经看到了如何使用 t 分布来计算零假设下数据的概率，但我们也可以使用模拟来做到这一点。基本思想是，我们生成类似于零假设下预期数据的模拟数据，然后询问观察到的数据与这些模拟数据相比有多极端。关键问题是：我们如何生成使零假设成立的数据？一般的答案是，我们可以以一种特定的方式随机重新排列数据，使数据看起来像如果零假设真的成立时会是什么样子。这类似于自举的概念，因为它使用我们自己的数据来得出答案，但它的方式不同。
- en: '9.3.5.4 Randomization: a simple example'
  id: totrans-77
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.5.4 随机化：一个简单的例子
- en: 'Let’s start with a simple example. Let’s say that we want to compare the mean
    squatting ability of football players with cross-country runners, with \(H_0:
    \mu_{FB} \le \mu_{XC}\) and \(H_A: \mu_{FB} > \mu_{XC}\). We measure the maximum
    squatting ability of 5 football players and 5 cross-country runners (which we
    will generate randomly, assuming that \(\mu_{FB} = 300\), \(\mu_{XC} = 140\),
    and \(\sigma = 30\)). The data are shown in Table [9.2](hypothesis-testing.html#tab:squatPlot).'
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: '让我们从一个简单的例子开始。假设我们想比较足球运动员和越野跑步者的平均深蹲能力，其中 \(H_0: \mu_{FB} \le \mu_{XC}\) 和
    \(H_A: \mu_{FB} > \mu_{XC}\)。我们测量了5名足球运动员和5名越野跑步者的最大深蹲能力（我们将随机生成），假设 \(\mu_{FB}
    = 300\)，\(\mu_{XC} = 140\)，和 \(\sigma = 30\)。数据如表[9.2](hypothesis-testing.html#tab:squatPlot)所示。'
- en: 'Table 9.2: Squatting data for the two groups'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 表9.2：两组深蹲数据
- en: '| group | squat | shuffledSquat |'
  id: totrans-80
  prefs: []
  type: TYPE_TB
  zh: '| 组 | 深蹲 | 洗牌深蹲 |'
- en: '| :-- | --: | --: |'
  id: totrans-81
  prefs: []
  type: TYPE_TB
  zh: '| :-- | --: | --: |'
- en: '| FB | 265 | 125 |'
  id: totrans-82
  prefs: []
  type: TYPE_TB
  zh: '| FB | 265 | 125 |'
- en: '| FB | 310 | 230 |'
  id: totrans-83
  prefs: []
  type: TYPE_TB
  zh: '| FB | 310 | 230 |'
- en: '| FB | 335 | 125 |'
  id: totrans-84
  prefs: []
  type: TYPE_TB
  zh: '| FB | 335 | 125 |'
- en: '| FB | 230 | 315 |'
  id: totrans-85
  prefs: []
  type: TYPE_TB
  zh: '| FB | 230 | 315 |'
- en: '| FB | 315 | 115 |'
  id: totrans-86
  prefs: []
  type: TYPE_TB
  zh: '| FB | 315 | 115 |'
- en: '| XC | 155 | 335 |'
  id: totrans-87
  prefs: []
  type: TYPE_TB
  zh: '| XC | 155 | 335 |'
- en: '| XC | 125 | 155 |'
  id: totrans-88
  prefs: []
  type: TYPE_TB
  zh: '| XC | 125 | 155 |'
- en: '| XC | 125 | 125 |'
  id: totrans-89
  prefs: []
  type: TYPE_TB
  zh: '| XC | 125 | 125 |'
- en: '| XC | 125 | 265 |'
  id: totrans-90
  prefs: []
  type: TYPE_TB
  zh: '| XC | 125 | 265 |'
- en: '| XC | 115 | 310 |'
  id: totrans-91
  prefs: []
  type: TYPE_TB
  zh: '| XC | 115 | 310 |'
- en: '![Left: Box plots of simulated squatting ability for football players and cross-country
    runners.Right: Box plots for subjects assigned to each group after scrambling
    group labels.](../Images/648edc1218b9204f9c2cefd66a81ba1c.png)'
  id: totrans-92
  prefs: []
  type: TYPE_IMG
  zh: '![左：模拟足球运动员和越野跑步者深蹲能力的箱线图。右：在混淆组标签后分配给每组受试者的箱线图。](../Images/648edc1218b9204f9c2cefd66a81ba1c.png)'
- en: 'Figure 9.4: Left: Box plots of simulated squatting ability for football players
    and cross-country runners.Right: Box plots for subjects assigned to each group
    after scrambling group labels.'
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.4：左：模拟足球运动员和越野跑步者深蹲能力的箱线图。右：在混淆组标签后分配给每组受试者的箱线图。
- en: 'From the plot on the left side of Figure [9.4](hypothesis-testing.html#fig:squatPlot)
    it’s clear that there is a large difference between the two groups. We can do
    a standard t-test to test our hypothesis; for this example we will use the `t.test()`
    command in R, which gives the following result:'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 从图[9.4](hypothesis-testing.html#fig:squatPlot)的左侧图表可以清楚地看出两组之间存在很大的差异。我们可以进行标准的
    t 检验来测试我们的假设；在这个例子中，我们将使用 R 中的 `t.test()` 命令，得到以下结果：
- en: '[PRE0]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: If we look at the p-value reported here, we see that the likelihood of such
    a difference under the null hypothesis is very small, using the *t* distribution
    to define the null.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 如果我们看一下这里报告的p值，我们会发现在零假设下出现这样的差异的可能性非常小，使用*t*分布来定义零。
- en: Now let’s see how we could answer the same question using randomization. The
    basic idea is that if the null hypothesis of no difference between groups is true,
    then it shouldn’t matter which group one comes from (football players versus cross-country
    runners) – thus, to create data that are like our actual data but also conform
    to the null hypothesis, we can randomly reorder the data for the individuals in
    the dataset, and then recompute the difference between the groups. The results
    of such a shuffle are shown in the column labeled “shuffleSquat” in Table [9.2](hypothesis-testing.html#tab:squatPlot),
    and the boxplots of the resulting data are in the right panel of Figure [9.4](hypothesis-testing.html#fig:squatPlot).
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们看看如何使用随机化来回答相同的问题。基本思想是，如果没有组之间的差异的零假设成立，那么来自哪个组（足球运动员与越野跑步者）就不重要 - 因此，为了创建像我们实际数据一样但也符合零假设的数据，我们可以随机重新排列数据集中个体的数据，然后重新计算组之间的差异。这样的洗牌结果显示在表[9.2](hypothesis-testing.html#tab:squatPlot)的“shuffleSquat”列中，生成的数据的箱线图显示在图[9.4](hypothesis-testing.html#fig:squatPlot)的右面板中。
- en: '![Histogram of t-values for the difference in means between the football and
    cross-country groups after randomly shuffling group membership.  The vertical
    line denotes the actual difference observed between the two groups, and the dotted
    line shows the theoretical t distribution for this analysis.](../Images/2a11a2277b79481471f628d30e545a5a.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![在足球和越野组之间的平均差异的t值的直方图，随机洗牌组成员资格。垂直线表示两组之间观察到的实际差异，虚线显示了此分析的理论t分布。](../Images/2a11a2277b79481471f628d30e545a5a.png)'
- en: 'Figure 9.5: Histogram of t-values for the difference in means between the football
    and cross-country groups after randomly shuffling group membership. The vertical
    line denotes the actual difference observed between the two groups, and the dotted
    line shows the theoretical t distribution for this analysis.'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.5：在随机洗牌组成员资格后，足球和越野组之间的平均差异的t值的直方图。垂直线表示两组之间观察到的实际差异，虚线显示了此分析的理论t分布。
- en: 'After scrambling the data, we see that the two groups are now much more similar,
    and in fact the cross-country group now has a slightly higher mean. Now let’s
    do that 10000 times and store the *t* statistic for each iteration; if you are
    doing this on your own computer, it will take a moment to complete. Figure [9.5](hypothesis-testing.html#fig:shuffleHist)
    shows the histogram of the *t* values across all of the random shuffles. As expected
    under the null hypothesis, this distribution is centered at zero (the mean of
    the distribution is 0.007). From the figure we can also see that the distribution
    of *t* values after shuffling roughly follows the theoretical *t* distribution
    under the null hypothesis (with mean=0), showing that randomization worked to
    generate null data. We can compute the p-value from the randomized data by measuring
    how many of the shuffled values are at least as extreme as the observed value:
    p(t > 8.01, df = 8) using randomization = 0.00410\. This p-value is very similar
    to the p-value that we obtained using the *t* distribution, and both are quite
    extreme, suggesting that the observed data are very unlikely to have arisen if
    the null hypothesis is true - and in this case we *know* that it’s not true, because
    we generated the data.'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在混淆数据之后，我们看到两组现在更加相似，事实上越野组现在的平均值略高。现在让我们这样做10000次，并存储每次迭代的*t*统计量；如果你在自己的电脑上进行这个操作，完成需要一段时间。图[9.5](hypothesis-testing.html#fig:shuffleHist)显示了所有随机洗牌的*t*值的直方图。如预期的那样，在零假设下，这个分布以零为中心（分布的均值为0.007）。从图中我们还可以看到，在洗牌后*t*值的分布大致遵循零假设下的理论*t*分布（均值=0），表明随机化工作生成了零数据。我们可以通过测量多少洗牌值至少与观察值一样极端来计算来自随机数据的p值：p(t
    > 8.01, df = 8) using randomization = 0.00410。这个p值与我们使用*t*分布得到的p值非常相似，两者都非常极端，表明如果零假设成立，观察到的数据非常不可能出现
    - 在这种情况下，我们*知道*它不是真的，因为我们生成了数据。
- en: '9.3.5.4.1 Randomization: BMI/activity example'
  id: totrans-101
  prefs:
  - PREF_H5
  type: TYPE_NORMAL
  zh: 9.3.5.4.1 随机化：BMI/活动示例
- en: Now let’s use randomization to compute the p-value for the BMI/activity example.
    In this case, we will randomly shuffle the `PhysActive` variable and compute the
    difference between groups after each shuffle, and then compare our observed *t*
    statistic to the distribution of *t* statistics from the shuffled datasets. Figure
    [9.6](hypothesis-testing.html#fig:simDiff) shows the distribution of *t* values
    from the shuffled samples, and we can also compute the probability of finding
    a value as large or larger than the observed value. The p-value obtained from
    randomization (0.000000) is very similar to the one obtained using the *t* distribution
    (0.000075). The advantage of the randomization test is that it doesn’t require
    that we assume that the data from each of the groups are normally distributed,
    though the t-test is generally quite robust to violations of that assumption.
    In addition, the randomization test can allow us to compute p-values for statistics
    when we don’t have a theoretical distribution like we do for the t-test.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们使用随机化来计算BMI/活动示例的p值。在这种情况下，我们将随机洗牌`PhysActive`变量，并在每次洗牌后计算两组之间的差异，然后将我们观察到的*t*统计量与洗牌数据的*t*统计量的分布进行比较。图[9.6](hypothesis-testing.html#fig:simDiff)显示了来自洗牌样本的*t*值的分布，我们还可以计算找到一个与观察值一样大或更大的值的概率。从随机化得到的p值（0.000000）与使用*t*分布得到的p值（0.000075）非常相似。随机化检验的优势在于，它不要求我们假设每个组的数据都是正态分布的，尽管t检验通常对该假设的违反具有相当的鲁棒性。此外，随机化检验可以让我们计算统计量的p值，即使我们没有像t检验那样的理论分布。
- en: '![Histogram of t statistics after shuffling of group labels, with the observed
    value of the t statistic shown in the vertical line, and values at least as extreme
    as the observed value shown in lighter gray](../Images/e50191e9b02c41fdcc77f70de15e137d.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![在组标签混洗后 t 统计直方图，垂直线显示 t 统计的观察值，至少与观察值一样极端的值显示为浅灰色](../Images/e50191e9b02c41fdcc77f70de15e137d.png)'
- en: 'Figure 9.6: Histogram of t statistics after shuffling of group labels, with
    the observed value of the t statistic shown in the vertical line, and values at
    least as extreme as the observed value shown in lighter gray'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.6：在组标签混洗后 t 统计直方图，垂直线显示 t 统计的观察值，至少与观察值一样极端的值显示为浅灰色
- en: We do have to make one main assumption when we use the randomization test, which
    we refer to as *exchangeability*. This means that all of the observations are
    distributed in the same way, such that we can interchange them without changing
    the overall distribution. The main place where this can break down is when there
    are related observations in the data; for example, if we had data from individuals
    in 4 different families, then we couldn’t assume that individuals were exchangeable,
    because siblings would be closer to each other than they are to individuals from
    other families. In general, if the data were obtained by random sampling, then
    the assumption of exchangeability should hold.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们使用随机化检验时，我们必须做出一个主要假设，我们称之为*可交换性*。这意味着所有的观察结果都以相同的方式分布，这样我们可以互换它们而不改变整体分布。这种假设可能会破坏的主要地方是当数据中存在相关的观察结果时；例如，如果我们有来自4个不同家庭的个体数据，那么我们不能假设个体是可交换的，因为兄弟姐妹之间的距离比他们与其他家庭的个体之间的距离更近。一般来说，如果数据是通过随机抽样获得的，那么可交换性的假设应该成立。
- en: '9.3.6 Step 6: Assess the “statistical significance” of the result'
  id: totrans-106
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.6 步骤 6：评估结果的“统计显著性”
- en: The next step is to determine whether the p-value that results from the previous
    step is small enough that we are willing to reject the null hypothesis and conclude
    instead that the alternative is true. How much evidence do we require? This is
    one of the most controversial questions in statistics, in part because it requires
    a subjective judgment – there is no “correct” answer.
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 下一步是确定从前一步得出的 p 值是否足够小，以至于我们愿意拒绝零假设，相反地得出替代假设是真实的。我们需要多少证据？这是统计学中最具争议的问题之一，部分原因是因为它需要主观判断——没有“正确”的答案。
- en: 'Historically, the most common answer to this question has been that we should
    reject the null hypothesis if the p-value is less than 0.05\. This comes from
    the writings of Ronald Fisher, who has been referred to as “the single most important
    figure in 20th century statistics” ([Efron 1998](#ref-efron1998)):'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 历史上，对这个问题最常见的答案是，如果 p 值小于 0.05，我们应该拒绝零假设。这来自于罗纳德·费舍尔的著作，他被称为“20世纪统计学中最重要的人物”（[Efron
    1998](#ref-efron1998)）：
- en: '“If P is between .1 and .9 there is certainly no reason to suspect the hypothesis
    tested. If it is below .02 it is strongly indicated that the hypothesis fails
    to account for the whole of the facts. We shall not often be astray if we draw
    a conventional line at .05 … it is convenient to draw the line at about the level
    at which we can say: Either there is something in the treatment, or a coincidence
    has occurred such as does not occur more than once in twenty trials” ([R. A. Fisher
    1925](#ref-fisher1925statistical))'
  id: totrans-109
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “如果 P 在 .1 和 .9 之间，肯定没有理由怀疑被检验的假设。如果它低于 .02，强烈表明假设未能解释所有的事实。如果它低于 .05，我们不会经常走错路……在大约我们可以说的水平上画一条线：要么治疗有效，要么发生了一次在二十次试验中不会再次发生的巧合”（[R.
    A. Fisher 1925](#ref-fisher1925statistical)）
- en: 'However, Fisher never intended \(p < 0.05\) to be a fixed rule:'
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，费舍尔从未打算 \(p < 0.05\) 成为一个固定的规则：
- en: “no scientific worker has a fixed level of significance at which from year to
    year, and in all circumstances, he rejects hypotheses; he rather gives his mind
    to each particular case in the light of his evidence and his ideas” ([Ronald Aylmer
    Fisher 1956](#ref-fish:1956))
  id: totrans-111
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “没有科学工作者有一个固定的显著性水平，从一年到另一年，在所有情况下，他拒绝假设；相反，他根据他的证据和想法来考虑每个特定情况”（[罗纳德·艾尔默·费舍尔
    1956](#ref-fish:1956)）
- en: Instead, it is likely that p < .05 became a ritual due to the reliance upon
    tables of p-values that were used before computing made it easy to compute p values
    for arbitrary values of a statistic. All of the tables had an entry for 0.05,
    making it easy to determine whether one’s statistic exceeded the value needed
    to reach that level of significance.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 相反，p < .05 很可能成为一种仪式，因为在计算变量的任意值的 p 值变得容易之前，人们依赖于使用表格的 p 值。所有的表格都有一个0.05的条目，这样就很容易确定自己的统计量是否超过了达到那个显著水平所需的值。
- en: The choice of statistical thresholds remains deeply controversial, and recently
    (Benjamin et al., 2018) it has been proposed that the default threshold be changed
    from .05 to .005, making it substantially more stringent and thus more difficult
    to reject the null hypothesis. In large part this move is due to growing concerns
    that the evidence obtained from a significant result at \(p < .05\) is relatively
    weak; we will return to this in our later discussion of reproducibility in Chapter
    [18](doing-reproducible-research.html#doing-reproducible-research).
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 统计阈值的选择仍然存在深刻的争议，最近（Benjamin et al., 2018）提出将默认阈值从0.05更改为0.005，使其更严格，因此更难拒绝零假设。在很大程度上，这一举措是由于越来越多的人担心从
    \(p < .05\) 的显著结果获得的证据相对较弱；我们将在第[18](doing-reproducible-research.html#doing-reproducible-research)章中讨论可重复性时返回到这一点。
- en: '9.3.6.1 Hypothesis testing as decision-making: The Neyman-Pearson approach'
  id: totrans-114
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.6.1 假设检验作为决策：内曼-皮尔逊方法
- en: 'Whereas Fisher thought that the p-value could provide evidence regarding a
    specific hypothesis, the statisticians Jerzy Neyman and Egon Pearson disagreed
    vehemently. Instead, they proposed that we think of hypothesis testing in terms
    of its error rate in the long run:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 而Fisher认为p值可以提供关于特定假设的证据，统计学家Jerzy Neyman和Egon Pearson则强烈反对。相反，他们提出我们应该从长期的错误率角度来考虑假设检验：
- en: “no test based upon a theory of probability can by itself provide any valuable
    evidence of the truth or falsehood of a hypothesis. But we may look at the purpose
    of tests from another viewpoint. Without hoping to know whether each separate
    hypothesis is true or false, we may search for rules to govern our behaviour with
    regard to them, in following which we insure that, in the long run of experience,
    we shall not often be wrong” ([J. Neyman and Pearson 1933](#ref-Neyman289))
  id: totrans-116
  prefs:
  - PREF_BQ
  type: TYPE_NORMAL
  zh: “基于概率理论的任何测试本身都不能提供任何有价值的关于假设真假的证据。但我们可以从另一个角度来看待测试的目的。在不希望知道每个单独假设是真还是假的情况下，我们可以寻找规则来指导我们对待它们的行为，通过遵循这些规则，我们确保在长期的经验中，我们不会经常犯错”（[J.
    Neyman and Pearson 1933](#ref-Neyman289)）
- en: 'That is: We can’t know which specific decisions are right or wrong, but if
    we follow the rules, we can at least know how often our decisions will be wrong
    in the long run.'
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 也就是说：我们无法知道具体的决策是对还是错，但如果我们遵循规则，至少可以知道我们的决策在长期内会有多少错误。
- en: 'To understand the decision making framework that Neyman and Pearson developed,
    we first need to discuss statistical decision making in terms of the kinds of
    outcomes that can occur. There are two possible states of reality (\(H_0\) is
    true, or \(H_0\) is false), and two possible decisions (reject \(H_0\), or retain
    \(H_0\)). There are two ways in which we can make a correct decision:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 为了理解Neyman和Pearson开发的决策框架，我们首先需要讨论统计决策的结果类型。现实存在两种可能的状态（\(H_0\)为真，或\(H_0\)为假），以及两种可能的决策（拒绝\(H_0\)，或保留\(H_0\)）。我们可以做出正确决策的两种方式：
- en: We can reject \(H_0\) when it is false (in the language of signal detection
    theory, we call this a *hit*)
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当\(H_0\)为假时我们拒绝\(H_0\)（在信号检测理论的术语中，我们称之为*命中*）
- en: We can retain \(H_0\) when it is true (somewhat confusingly in this context,
    this is called a *correct rejection*)
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当\(H_0\)为真时我们保留\(H_0\)（在这种情况下有些令人困惑，这被称为*正确拒绝*）
- en: 'There are also two kinds of errors we can make:'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 我们也可以犯两种错误：
- en: We can reject \(H_0\) when it is actually true (we call this a *false alarm*,
    or *Type I error*)
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当\(H_0\)实际上为真时我们拒绝\(H_0\)（我们称之为*虚警*，或*I型错误*）
- en: We can retain \(H_0\) when it is actually false (we call this a *miss*, or *Type
    II error*)
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当\(H_0\)实际上为假时我们保留\(H_0\)（我们称之为*漏失*，或*II型错误*）
- en: 'Neyman and Pearson coined two terms to describe the probability of these two
    types of errors in the long run:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: Neyman和Pearson创造了两个术语来描述长期内这两种错误的概率：
- en: P(Type I error) = \(\alpha\)
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(I型错误) = \(\alpha\)
- en: P(Type II error) = \(\beta\)
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: P(II型错误) = \(\beta\)
- en: That is, if we set \(\alpha\) to .05, then in the long run we should make a
    Type I error 5% of the time. Whereas it’s common to set \(\alpha\) as .05, the
    standard value for an acceptable level of \(\beta\) is .2 - that is, we are willing
    to accept that 20% of the time we will fail to detect a true effect when it truly
    exists. We will return to this later when we discuss statistical power in Section
    [10.3](ci-effect-size-power.html#statistical-power), which is the complement of
    Type II error.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 也就是说，如果我们将\(\alpha\)设为0.05，那么长期内我们应该有5%的概率犯I型错误。虽然通常将\(\alpha\)设为0.05，但可接受的\(\beta\)水平的标准值为0.2——也就是说，我们愿意接受20%的时间我们无法检测到真实效应。我们将在后面讨论统计功效时再回到这一点，统计功效是II型错误的补充。
- en: 9.3.7 What does a significant result mean?
  id: totrans-128
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 9.3.7 显著结果意味着什么？
- en: There is a great deal of confusion about what p-values actually mean (Gigerenzer,
    2004). Let’s say that we do an experiment comparing the means between conditions,
    and we find a difference with a p-value of .01\. There are a number of possible
    interpretations that one might entertain.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 关于p值的实际含义存在很多混淆（Gigerenzer, 2004）。假设我们进行一个实验，比较不同条件下的平均值，发现p值为0.01。可能有多种解释。
- en: 9.3.7.1 Does it mean that the probability of the null hypothesis being true
    is .01?
  id: totrans-130
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.7.1 这意味着零假设为真的概率是0.01吗？
- en: No. Remember that in null hypothesis testing, the p-value is the probability
    of the data given the null hypothesis (\(P(data|H_0)\)). It does not warrant conclusions
    about the probability of the null hypothesis given the data (\(P(H_0|data)\)).
    We will return to this question when we discuss Bayesian inference in a later
    chapter, as Bayes theorem lets us invert the conditional probability in a way
    that allows us to determine the probability of the hypothesis given the data.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 不是。请记住，在零假设检验中，p值是给定零假设下数据的概率（\(P(data|H_0)\)）。它并不支持关于给定数据的零假设的概率（\(P(H_0|data)\)）的结论。当我们在后面的章节讨论贝叶斯推断时，我们将回到这个问题，因为贝叶斯定理让我们以一种方式反转条件概率，从而能够确定给定数据的假设概率。
- en: 9.3.7.2 Does it mean that the probability that you are making the wrong decision
    is .01?
  id: totrans-132
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.7.2 这意味着你做出错误决策的概率是0.01吗？
- en: No. This would be \(P(H_0|data)\), but remember as above that p-values are probabilities
    of data under \(H_0\), not probabilities of hypotheses.
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 不是。这将是\(P(H_0|data)\)，但请记住，p值是在\(H_0\)下数据的概率，而不是假设的概率。
- en: 9.3.7.3 Does it mean that if you ran the study again, you would obtain the same
    result 99% of the time?
  id: totrans-134
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.7.3 这意味着如果你再次进行研究，你会99%的时间得到相同的结果吗？
- en: No. The p-value is a statement about the likelihood of a particular dataset
    under the null; it does not allow us to make inferences about the likelihood of
    future events such as replication.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 不是。p值是关于在零假设下特定数据集的可能性的陈述；它不允许我们对未来事件的可能性（如重复实验）进行推断。
- en: 9.3.7.4 Does it mean that you have found a practically important effect?
  id: totrans-136
  prefs:
  - PREF_H4
  type: TYPE_NORMAL
  zh: 9.3.7.4 这意味着你发现了一个实际重要的效应吗？
- en: No. There is an essential distinction between *statistical significance* and
    *practical significance*. As an example, let’s say that we performed a randomized
    controlled trial to examine the effect of a particular diet on body weight, and
    we find a statistically significant effect at p<.05\. What this doesn’t tell us
    is how much weight was actually lost, which we refer to as the *effect size* (to
    be discussed in more detail in Chapter [10](ci-effect-size-power.html#ci-effect-size-power)).
    If we think about a study of weight loss, then we probably don’t think that the
    loss of one ounce (i.e. the weight of a few potato chips) is practically significant.
    Let’s look at our ability to detect a significant difference of 1 ounce as the
    sample size increases.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 不。*统计显著性*和*实际显著性*之间存在重要区别。举个例子，假设我们进行了一项随机对照试验，以检验某种特定饮食对体重的影响，并且我们发现在p<.05的水平上存在统计学上显著的影响。这并不能告诉我们实际上减掉了多少体重，这被称为*效应大小*（将在第[10](ci-effect-size-power.html#ci-effect-size-power)章中更详细地讨论）。如果我们考虑一项减肥研究，那么我们可能不认为失去一盎司（即几片薯条的重量）是实际上显著的。让我们看看随着样本量的增加，我们能否检测到1盎司的显著差异。
- en: Figure [9.7](hypothesis-testing.html#fig:sigResults) shows how the proportion
    of significant results increases as the sample size increases, such that with
    a very large sample size (about 262,000 total subjects), we will find a significant
    result in more than 90% of studies when there is a 1 ounce difference in weight
    loss between the diets. While these are statistically significant, most physicians
    would not consider a weight loss of one ounce to be practically or clinically
    significant. We will explore this relationship in more detail when we return to
    the concept of *statistical power* in Section [10.3](ci-effect-size-power.html#statistical-power),
    but it should already be clear from this example that statistical significance
    is not necessarily indicative of practical significance.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图[9.7](hypothesis-testing.html#fig:sigResults)显示，随着样本量的增加，显著结果的比例增加，因此在非常大的样本量（约262,000名受试者）中，当两种饮食之间的体重减少差异为1盎司时，我们将在超过90%的研究中发现显著结果。尽管这些是统计上显著的，但大多数医生不会认为减重一盎司在实际上或临床上是显著的。当我们回到第[10.3](ci-effect-size-power.html#statistical-power)节讨论*统计功效*的概念时，我们将更详细地探讨这种关系，但从这个例子中已经很清楚，统计显著性并不一定表明实际显著性。
- en: '![The proportion of signifcant results for a very small change (1 ounce, which
    is about .001 standard deviations) as a function of sample size.](../Images/a72d2bdae71b50937f611f8075fbd2cf.png)'
  id: totrans-139
  prefs: []
  type: TYPE_IMG
  zh: '![对于样本量的显著结果的比例，对于一个非常小的变化（1盎司，大约为.001标准差）的函数。](../Images/a72d2bdae71b50937f611f8075fbd2cf.png)'
- en: 'Figure 9.7: The proportion of signifcant results for a very small change (1
    ounce, which is about .001 standard deviations) as a function of sample size.'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.7：对于一个非常小的变化（1盎司，大约为.001标准差）的显著结果的比例，作为样本量的函数。
- en: '9.4 NHST in a modern context: Multiple testing'
  id: totrans-141
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.4现代语境下的NHST：多重检验
- en: So far we have discussed examples where we are interested in testing a single
    statistical hypothesis, and this is consistent with traditional science which
    often measured only a few variables at a time. However, in modern science we can
    often measure millions of variables per individual. For example, in genetic studies
    that quantify the entire genome, there may be many millions of measures per individual,
    and in the brain imaging research that my group does, we often collect data from
    more than 100,000 locations in the brain at once. When standard hypothesis testing
    is applied in these contexts, bad things can happen unless we take appropriate
    care.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经讨论了我们感兴趣的测试单个统计假设的例子，这与传统科学一致，传统科学通常一次只测量少量变量。然而，在现代科学中，我们通常可以测量每个个体的数百万个变量。例如，在量化整个基因组的遗传研究中，每个个体可能有数百万个测量值，在我所在的大脑成像研究中，我们经常一次从大脑的10万多个位置收集数据。在这些情况下应用标准的假设检验，除非我们适当地加以注意，否则会发生不好的事情。
- en: Let’s look at an example to see how this might work. There is great interest
    in understanding the genetic factors that can predispose individuals to major
    mental illnesses such as schizophrenia, because we know that about 80% of the
    variation between individuals in the presence of schizophrenia is due to genetic
    differences. The Human Genome Project and the ensuing revolution in genome science
    has provided tools to examine the many ways in which humans differ from one another
    in their genomes. One approach that has been used in recent years is known as
    a *genome-wide association study* (GWAS), in which the genome of each individual
    is characterized at one million or more places to determine which letters of the
    genetic code they have at each location, focusing on locations where humans tend
    to differ frequently. After these have been determined, the researchers perform
    a statistical test at each location in the genome to determine whether people
    diagnosed with schizoprenia are more or less likely to have one specific version
    of the genetic sequence at that location.
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们举个例子来看看这可能是如何工作的。人们对了解可以使个体易患严重精神疾病（如精神分裂症）的遗传因素非常感兴趣，因为我们知道大约80%的精神分裂症患者之间的差异是由遗传差异引起的。人类基因组计划及随后的基因组科学革命提供了工具，可以检查人类在基因组方面的许多差异。近年来使用的一种方法称为*全基因组关联研究*（GWAS），其中对每个个体的基因组进行表征，以确定他们在每个位置的遗传密码中有哪些字母，重点关注人类经常不同的位置。确定了这些位置后，研究人员在基因组的每个位置进行统计检验，以确定被诊断为精神分裂症的人是否更有可能在该位置具有遗传序列的一个特定版本。
- en: Let’s imagine what would happen if the researchers simply asked whether the
    test was significant at p<.05 at each location, when in fact there is no true
    effect at any of the locations. To do this, we generate a large number of simulated
    *t* values from a null distribution, and ask how many of them are significant
    at p<.05\. Let’s do this many times, and each time count up how many of the tests
    come out as significant (see Figure [9.8](hypothesis-testing.html#fig:nullSim)).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们想象一下，如果研究人员简单地询问每个位置的测试是否在p<.05水平上显著，而实际上在任何位置都没有真正的效应会发生什么。为了做到这一点，我们从零分布中生成大量模拟的*t*值，并询问有多少个在p<.05水平上显著。让我们多次这样做，每次计算有多少测试结果显著（见图[9.8](hypothesis-testing.html#fig:nullSim)）。
- en: '![Left: A histogram of the number of significant results in each set of one
    million statistical tests, when there is in fact no true effect. Right: A histogram
    of the number of significant results across all simulation runs after applying
    the Bonferroni correction for multiple tests.](../Images/8351adf72411b70eb87ad51a13112a31.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![左：当实际上没有真正效应时，在每一百万次统计测试中每组显著结果的直方图。右：应用多重测试的邦费罗尼校正后，在所有模拟运行中显著结果的直方图。](../Images/8351adf72411b70eb87ad51a13112a31.png)'
- en: 'Figure 9.8: Left: A histogram of the number of significant results in each
    set of one million statistical tests, when there is in fact no true effect. Right:
    A histogram of the number of significant results across all simulation runs after
    applying the Bonferroni correction for multiple tests.'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 图9.8：左：当实际上没有真正效应时，在每一百万次统计测试中每组显著结果的直方图。右：应用多重测试的邦费罗尼校正后，在所有模拟运行中显著结果的直方图。
- en: This shows that about 5% of all of the tests were significant in each run, meaning
    that if we were to use p < .05 as our threshold for statistical significance,
    then even if there were no truly significant relationships present, we would still
    “find” about 500 genes that were seemingly significant in each study (the expected
    number of significant results is simply \(n * \alpha\)). That is because while
    we controlled for the error per test, we didn’t control the error rate across
    our entire *family* of tests (known as the *familywise error*), which is what
    we really want to control if we are going to be looking at the results from a
    large number of tests. Using p<.05, our familywise error rate in the above example
    is one – that is, we are pretty much guaranteed to make at least one error in
    any particular study.
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 这表明每次运行中约5%的测试都是显著的，这意味着即使在真正没有显著关系的情况下，如果我们将p < .05作为统计显著性的阈值，那么即使在每项研究中也会“发现”约500个基因在统计上是显著的（显著结果的预期数量简单地是\(n
    * \alpha\)）。这是因为虽然我们控制了每次测试的错误，但我们没有控制整个*测试家族*的错误率（称为*家族智误差*），这才是我们真正想要控制的，如果我们要查看大量测试的结果。在上面的例子中，使用p<.05，我们的家族智误差率是1
    - 也就是说，在任何特定研究中，我们几乎肯定会至少犯一个错误。
- en: A simple way to control for the familywise error is to divide the alpha level
    by the number of tests; this is known as the *Bonferroni* correction, named after
    the Italian statistician Carlo Bonferroni. Using the data from our example above,
    we see in Figure [9.8](hypothesis-testing.html#fig:nullSim) that only about 5
    percent of studies show any significant results using the corrected alpha level
    of 0.000005 instead of the nominal level of .05\. We have effectively controlled
    the familywise error, such that the probability of making *any* errors in our
    study is controlled at right around .05.
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 控制家族智误差的一种简单方法是将α水平除以测试次数；这被称为*邦费罗尼*校正，以意大利统计学家卡洛·邦费罗尼命名。使用上面例子中的数据，我们可以看到在图[9.8](hypothesis-testing.html#fig:nullSim)中，只有约5%的研究显示出任何显著结果，使用校正后的α水平0.000005，而不是名义水平0.05。我们有效地控制了家族智误差，使得我们研究中出现*任何*错误的概率控制在0.05左右。
- en: 9.5 Learning objectives
  id: totrans-149
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.5 学习目标
- en: Identify the components of a hypothesis test, including the parameter of interest,
    the null and alternative hypotheses, and the test statistic.
  id: totrans-150
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 识别假设检验的组成部分，包括感兴趣的参数、零假设和备择假设以及检验统计量。
- en: Describe the proper interpretations of a p-value as well as common misinterpretations
  id: totrans-151
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述p值的正确解释以及常见的误解
- en: Distinguish between the two types of error in hypothesis testing, and the factors
    that determine them.
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在假设检验中区分两种类型的错误以及决定它们的因素。
- en: Describe how resampling can be used to compute a p-value.
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述如何使用重抽样来计算p值。
- en: Describe the problem of multiple testing, and how it can be addressed
  id: totrans-154
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述多重检验的问题以及如何解决
- en: Describe the main criticisms of null hypothesis statistical testing
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 描述零假设统计检验的主要批评。
- en: 9.6 Suggested readings
  id: totrans-156
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 9.6 建议阅读
- en: '[Mindless Statistics, by Gerd Gigerenzer](https://library.mpib-berlin.mpg.de/ft/gg/GG_Mindless_2004.pdf)'
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '[《无意义的统计学》，作者格尔德·吉格伦策](https://library.mpib-berlin.mpg.de/ft/gg/GG_Mindless_2004.pdf)'
