- en: 'Preface Or: What Are You Getting Yourself Into Here?'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言或：你在这里要做什么？
- en: Hello adventurous reader, welcome to our book! At this point, I assume that
    you’re either interested in learning more about the wonders of stream processing
    or hoping to spend a few hours reading about the glory of the majestic brown trout.
    Either way, I salute you! That said, those of you in the latter bucket who don’t
    also have an advanced understanding of computer science should consider how prepared
    you are to deal with disappointment before forging ahead; *caveat piscator*, and
    all that.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 你好，冒险的读者，欢迎来到我们的书！在这一点上，我假设你要么对学习更多关于流处理的奇迹感兴趣，要么希望花几个小时阅读关于雄伟的棕色鳟鱼的荣耀。无论哪种方式，我都向你致敬！也就是说，属于后一种类型的人，如果你对计算机科学没有高级的理解，那么在继续前，你应该考虑一下你是否准备好面对失望；*警告渔夫*，等等。
- en: To set the tone for this book from the get go, I wanted to give you a heads
    up about a couple of things. First, this book is a little strange in that we have
    multiple authors, but we’re not pretending that we somehow all speak and write
    in the same voice like we’re weird identical triplets who happened to be born
    to different sets of parents. Because as interesting as that sounds, the end result
    would actually be less enjoyable to read. Instead, we’ve opted to each write in
    our own voices, and we’ve granted the book just enough self-awareness to be able
    to make reference to each of us where appropriate, but not so much self-awareness
    that it resents us for making it only into a book and not something cooler like
    a robot dinosaur with a Scottish accent.¹
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 为了从一开始就设定这本书的基调，我想提醒你一些事情。首先，这本书有点奇怪，因为我们有多个作者，但我们并不假装我们以某种方式都说和写着相同的声音，就像我们是奇怪的同卵三胞胎，碰巧出生在不同的父母身边。因为尽管听起来很有趣，但最终的结果实际上会更不愉快。相反，我们选择了用自己的声音写作，我们给了这本书足够的自我意识，可以在适当的时候提到我们每个人，但不会让它对我们只是一本书而不是像苏格兰口音的机器恐龙这样更酷的东西感到不满。¹
- en: 'As far as voices go, there are three you’ll come across:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 就声音而言，你会遇到三种：
- en: Tyler
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 泰勒
- en: That would be me. If you haven’t explicitly been told someone else is speaking,
    you can assume that it’s me, because we added the other authors somewhat late
    in the game, and I was basically like, “hells no” when I thought about going back
    and updating everything I’d already written. I’m the technical lead for the Data
    Processing Languages ands Systems² group at Google, responsible for Google Cloud
    Dataflow, Google’s Apache Beam efforts, as well as Google-internal data processing
    systems such as Flume, MillWheel, and MapReduce. I’m also a founding Apache Beam
    PMC member.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 那就是我。如果你没有明确被告知有其他人在讲话，你可以假设是我，因为我们在游戏的后期才添加了其他作者，当我考虑回去更新我已经写过的一切时，我基本上是“不可能的”。我是谷歌数据处理语言和系统²组的技术负责人，负责谷歌云数据流、谷歌的Apache
    Beam工作，以及谷歌内部的数据处理系统，如Flume、MillWheel和MapReduce。我也是Apache Beam PMC的创始成员。
- en: '![](img/stsy_0001.png)'
  id: totrans-6
  prefs: []
  type: TYPE_IMG
  zh: '![](img/stsy_0001.png)'
- en: Figure P-1\. The cover that could have been...
  id: totrans-7
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 图P-1。本来可以成为封面的封面...
- en: Slava
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: Slava
- en: Slava was a long-time member of the MillWheel team at Google, and later an original
    member of the Windmill team that built MillWheel’s successor, the heretofore unnamed
    system that powers the Streaming Engine in Google Cloud Dataflow. Slava is the
    foremost expert on watermarks and time semantics in stream processing systems
    the world over, period. You might find it unsurprising then that he’s the author
    of Chapter 3, *Watermarks*.
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: Slava是谷歌MillWheel团队的长期成员，后来成为Windmill团队的原始成员，该团队构建了MillWheel的继任者，迄今为止未命名的系统，该系统驱动了谷歌云数据流中的流引擎。Slava是全球流处理系统中水印和时间语义的最高专家，没有之一。你可能会觉得不奇怪，他是第3章《水印》的作者。
- en: Reuven
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: Reuven
- en: Reuven is at the bottom of this list because he has more experience with stream
    processing than both Slava and me combined and would thus crush us if he were
    placed any higher. Reuven has created or led the creation of nearly all of the
    interesting systems-level magic in Google’s general-purpose stream processing
    engines, including applying an untold amount of attention to detail in providing
    high-throughput, low-latency, exactly-once semantics in a system that nevertheless
    utilizes fine-grained checkpointing. You might find it unsurprising that he’s
    the author of Chapter 5, *Exactly-Once and Side Effects*. He also happens to be
    an Apache Beam PMC member.
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: Reuven在这个名单的底部，因为他在流处理方面的经验比Slava和我加起来还要丰富，因此如果他被放置得更高，他会压垮我们。Reuven已经创建或领导了几乎所有谷歌通用流处理引擎中有趣的系统级魔术，包括在系统中应用了大量的细节关注，以提供高吞吐量、低延迟、精确一次的语义，同时利用了细粒度的检查点。你可能会觉得不奇怪，他是第5章《精确一次和副作用》的作者。他还是Apache
    Beam PMC成员。
- en: Navigating This Book
  id: totrans-12
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 阅读本书
- en: Now that you know who you’ll be hearing from, the next logical step would be
    to find out what you’ll be hearing about, which brings us to the second thing
    I wanted to mention. There are conceptually two major parts to this book, each
    with four chapters, and each followed up by a chapter that stands relatively independently
    on its own.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你知道你将听到谁的声音，下一个合乎逻辑的步骤将是找出你将听到什么，这就是我想提到的第二件事。这本书在概念上有两个主要部分，每个部分有四章，然后是一个相对独立的章节。
- en: 'The fun begins with Part I, *The Beam Model* (Chapters 1–4), which focuses
    on the high-level batch plus streaming data processing model originally developed
    for Google Cloud Dataflow, later donated to the Apache Software Foundation as
    Apache Beam, and also now seen in whole or in part across most other systems in
    the industry. It’s composed of four chapters:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 乐趣从第一部分开始，*Beam模型*（第1-4章），重点介绍了最初为谷歌云数据流开发的高级批处理加流处理数据处理模型，后来捐赠给Apache软件基金会作为Apache
    Beam，并且现在整体或部分地出现在行业中的大多数其他系统中。它由四章组成：
- en: Chapter 1, *Streaming 101*, which covers the basics of stream processing, establishing
    some terminology, discussing the capabilities of streaming systems, distinguishing
    between two important domains of time (processing time and event time), and finally
    looking at some common data processing patterns.
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第一章《流处理101》，介绍了流处理的基础知识，建立了一些术语，讨论了流式系统的能力，区分了处理时间和事件时间这两个重要的时间领域，并最终研究了一些常见的数据处理模式。
- en: Chapter 2, *The *What*, *Where*, *When*, and *How* of Data Processing*, which
    covers in detail the core concepts of robust stream processing over out-of-order
    data, each analyzed within the context of a concrete running example and with
    animated diagrams to highlight the dimension of time.
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第二章《数据处理的“什么”、“哪里”、“何时”和“如何”》，详细介绍了流处理的核心概念，分析了每个概念在无序数据的情况下的具体运行示例中的上下文，并通过动画图表突出了时间维度。
- en: Chapter 3, *Watermarks* (written by Slava), which provides a deep survey of
    temporal progress metrics, how they are created, and how they propagate through
    pipelines. It ends by examining the details of two real-world watermark implementations.
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第三章《水印》（由Slava撰写），深入调查了时间进度指标的情况，它们是如何创建的，以及它们如何通过管道传播。最后，它通过检查两种真实世界的水印实现的细节来结束。
- en: Chapter 4, *Advanced Windowing*, which picks up where Chapter 2 left off, diving
    into some advanced windowing and triggering concepts like processing-time windows,
    sessions, and continuation triggers.
  id: totrans-18
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第四章《高级窗口》，延续了第二章的内容，深入探讨了一些高级窗口和触发概念，如处理时间窗口，会话和继续触发器。
- en: 'Between Parts I and II, providing an interlude as timely as the details contained
    therein are important, stands Chapter 5, *Exactly-Once and Side Effects* (written
    by Reuven). In it, he enumerates the challenges of providing end-to-end exactly-once
    (or effectively-once) processing semantics and walks through the implementation
    details of three different approaches to exactly-once processing: Apache Flink,
    Apache Spark, and Google Cloud Dataflow.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在第一部分和第二部分之间，提供了一个及时的插曲，其中包含的细节非常重要，即第五章《精确一次和副作用》（由Reuven撰写）。在这一章中，他列举了提供端到端精确一次（或有效一次）处理语义的挑战，并详细介绍了三种不同方法的实现细节：Apache
    Flink，Apache Spark和Google Cloud Dataflow。
- en: 'Next begins Part II, *Streams and Tables* (Chapters 6–9), which dives deeper
    into the conceptual and investigates the lower-level “streams and tables” way
    of thinking about stream processing, recently popularized by some upstanding citizens
    in the Apache Kafka community but, of course, invented decades ago by folks in
    the database community, because wasn’t everything? It too is composed of four
    chapters:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来是第二部分《流和表》（第6-9章），深入探讨了概念，并研究了更低级别的“流和表”处理流程的方式，这是最近由Apache Kafka社区的一些杰出成员广泛推广的，当然，几十年前就被数据库社区的人发明了，因为一切都是这样吗？它也由四章组成：
- en: Chapter 6, *Streams and Tables*, which introduces the basic idea of streams
    and tables, analyzes the classic MapReduce approach through a streams-and-tables
    lens, and then constructs a theory of streams and tables sufficiently general
    to encompass the full breadth of the Beam Model (and beyond).
  id: totrans-21
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第六章《流和表》，介绍了流和表的基本概念，通过流和表的视角分析了经典的MapReduce方法，然后构建了一个足够一般的流和表理论，以包括Beam模型（以及更多）的全部范围。
- en: Chapter 7, *The Practicalities of Persistent State*, which considers the motivations
    for persistent state in streaming pipelines, looks at two common types of implicit
    state, and then analyzes a practical use case (advertising attribution) to inform
    the necessary characteristics of a general state management mechanism.
  id: totrans-22
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第七章《持久状态的实际问题》，考虑了流水线中持久状态的动机，研究了两种常见的隐式状态类型，然后分析了一个实际用例（广告归因），以确定一般状态管理机制的必要特征。
- en: Chapter 8, *Streaming SQL*, which investigates the meaning of streaming within
    the context of relational algebra and SQL, contrasts the inherent stream and table
    biases within the Beam Model and classic SQL as they exist today, and proposes
    a set of possible paths forward toward incorporating robust streaming semantics
    in SQL.
  id: totrans-23
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第八章《流式SQL》，研究了关系代数和SQL中流处理的含义，对比了Beam模型和经典SQL中存在的固有的流和表偏见，并提出了一套可能的前进路径，以在SQL中融入健壮的流处理语义。
- en: 'Chapter 9, *Streaming Joins*, which surveys a variety of different join types,
    analyzes their behavior within the context of streaming, and finally looks in
    detail at a useful but ill-supported streaming join use case: temporal validity
    windows.'
  id: totrans-24
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 第九章《流式连接》，调查了各种不同类型的连接，分析了它们在流处理环境中的行为，并最终详细研究了一个有用但支持不足的流式连接用例：时间有效窗口。
- en: Finally, closing out the book is Chapter 10, *The Evolution of Large-Scale Data
    Processing*, which strolls through a focused history of the MapReduce lineage
    of data processing systems, examining some of the important contributions that
    have evolved streaming systems into what they are today.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，结束本书的是第十章《大规模数据处理的演变》，它回顾了MapReduce数据处理系统的历史，检查了一些重要的贡献，这些贡献使流式处理系统演变成今天的样子。
- en: Takeaways
  id: totrans-26
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 重点
- en: 'As a final bit of guidance, if you were to ask me to describe the things I
    most want readers to take away from this book, I would say this:'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，作为最后的指导，如果你让我描述我最希望读者从本书中学到的东西，我会说：
- en: The single most important thing you can learn from this book is the theory of
    streams and tables and how they relate to one another. Everything else builds
    on top of that. No, we won’t get to this topic until Chapter 6. That’s okay; it’s
    worth the wait, and you’ll be better prepared to appreciate its awesomeness by
    then.
  id: totrans-28
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 本书中最重要的一点是学习流和表的理论以及它们之间的关系。其他所有内容都是基于这一点展开的。不，我们要到第六章才会讨论这个话题。没关系，值得等待，到那时你会更好地准备好欣赏它的精彩之处。
- en: 'Time-varying relations are a revelation. They are stream processing incarnate:
    an embodiment of everything streaming systems are built to achieve and a powerful
    connection to the familiar tools we all know and love from the world of batch.
    We won’t learn about them until Chapter 8, but again, the journey there will help
    you appreciate them all the more.'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 时变关系是一种启示。它们是流处理的具体体现：是流系统构建的一切的具体体现，也是与我们从批处理世界中熟悉的工具的强大连接。我们要到第8章才会学习它们，但是再次强调，前面的学习将帮助你更加欣赏它们。
- en: A well-written distributed streaming engine is a magical thing. This arguably
    goes for distributed systems in general, but as you learn more about how these
    systems are built to provide the semantics they do (in particular, the case studies
    from Chapters 3 and 5), it becomes all the more apparent just how much heavy lifting
    they’re doing for you.
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个写得好的分布式流引擎是一件神奇的事情。这可能适用于分布式系统总体来说，但是当你了解更多关于这些系统是如何构建来提供它们的语义的（特别是第3章和第5章的案例研究），你就会更加明显地意识到它们为你做了多少繁重的工作。
- en: LaTeX/Tikz is an amazing tool for making diagrams, animated or otherwise. A
    horrible, crusty tool with sharp edges and tetanus, but an incredible tool nonetheless.
    I hope the clarity the animated diagrams in this book bring to the complex topics
    we discuss will inspire more people to give LaTeX/Tikz a try (in “Figures”, we
    provide for a link to the full source for the animations from this book).
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LaTeX/Tikz是一个制作图表的神奇工具，无论是动画还是其他形式。它是一个可怕的、充满尖锐边缘和破伤风的工具，但无论如何也是一个令人难以置信的工具。我希望本书中的动画图表能够为我们讨论的复杂主题带来清晰的解释，从而激励更多的人尝试使用LaTeX/Tikz（在“图表”中，我们提供了本书动画的完整源代码链接）。
- en: Conventions Used in This Book
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书中使用的约定
- en: 'The following typographical conventions are used in this book:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用以下排版约定：
- en: '*Italic*'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '*斜体*'
- en: Indicates new terms, URLs, email addresses, filenames, and file extensions.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 表示新术语、URL、电子邮件地址、文件名和文件扩展名。
- en: '`Constant width`'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: '`常量宽度`'
- en: Used for program listings, as well as within paragraphs to refer to program
    elements such as variable or function names, databases, data types, environment
    variables, statements, and keywords.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 用于程序清单，以及在段萂中引用程序元素，如变量或函数名称、数据库、数据类型、环境变量、语句和关键字。
- en: '**`Constant width bold`**'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: '**`常量宽度粗体`**'
- en: Shows commands or other text that should be typed literally by the user.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 显示用户应直接输入的命令或其他文本。
- en: '*`Constant width italic`*'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: '*`常量宽度斜体`*'
- en: Shows text that should be replaced with user-supplied values or by values determined
    by context.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 显示应由用户提供值或由上下文确定的值替换的文本。
- en: Tip
  id: totrans-42
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 提示
- en: This element signifies a tip or suggestion.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 此元素表示提示或建议。
- en: Note
  id: totrans-44
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: This element signifies a general note.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 此元素表示一般注释。
- en: Warning
  id: totrans-46
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 警告
- en: This element indicates a warning or caution.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 此元素表示警告或注意事项。
- en: Online Resources
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在线资源
- en: There are a handful of associated online resources to aid in your enjoyment
    of this book.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 有一些相关的在线资源可帮助您享受本书。
- en: Figures
  id: totrans-50
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 图表
- en: 'All the of the figures in this book are available in digital form on the book’s
    website. This is particularly useful for the animated figures, only a few frames
    of which appear (comic-book style) in the non-Safari formats of the book:'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中的所有图表都以数字形式在书的网站上提供。这对于动画图表特别有用，因为书中非Safari格式只显示了少量帧（漫画风格）：
- en: 'Online index: [*http://www.streamingbook.net/figures*](http://www.streamingbook.net/figures)'
  id: totrans-52
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在线索引：[*http://www.streamingbook.net/figures*](http://www.streamingbook.net/figures)
- en: 'Specific figures may be referenced at URLs of the form:'
  id: totrans-53
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 特定的图表可以在以下形式的URL中引用：
- en: '*http://www.streamingbook.net/fig/<FIGURE-NUMBER>*'
  id: totrans-54
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: '*http://www.streamingbook.net/fig/<FIGURE-NUMBER>*'
- en: 'For example, for Figure 2-5: [*http://www.streamingbook.net/fig/2-5*](http://www.streamingbook.net/fig/2-5)'
  id: totrans-55
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 例如，对于图 2-5：[*http://www.streamingbook.net/fig/2-5*](http://www.streamingbook.net/fig/2-5)
- en: The animated figures themselves are LaTeX/Tikz drawings, rendered first to PDF,
    then converted to animated GIFs via ImageMagick. For the more intrepid among you,
    full source code and instructions for rendering the animations (from this book,
    the [“Streaming 101”](http://oreil.ly/1p1AKux) and [“Streaming 102”](http://oreil.ly/1TV7YGU)
    blog posts, and the original [Dataflow Model paper](http://bit.ly/2sXgVJ3)) are
    available on GitHub at [*http://github.com/takidau/animations*](http://github.com/takidau/animations).
    Be warned that this is roughly 14,000 lines of LaTeX/Tikz code that grew very
    organically, with no intent of ever being read and used by others. In other words,
    it’s a messy, intertwined web of archaic incantations; turn back now or abandon
    all hope ye who enter here, for there be dragons.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 动画图表本身是LaTeX/Tikz绘制的，首先渲染为PDF，然后通过ImageMagick转换为动画GIF。对于你们中的更有冒险精神的人，本书、[“流媒体101”](http://oreil.ly/1p1AKux)和[“流媒体102”](http://oreil.ly/1TV7YGU)博客文章以及原始[数据流模型论文](http://bit.ly/2sXgVJ3)的动画的完整源代码和渲染说明都可以在GitHub上找到，链接为[*http://github.com/takidau/animations*](http://github.com/takidau/animations)。请注意，这大约有14,000行LaTeX/Tikz代码，它们是非常有机地生长出来的，没有意图被其他人阅读和使用。换句话说，这是一个混乱、纠缠不清的古老咒语网络；现在就回头吧，或者放弃所有希望吧，因为这里有龙。
- en: Code Snippets
  id: totrans-57
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 代码片段
- en: 'Although this book is largely conceptual, there are are number of code and
    psuedo-code snippets used throughout to help illustrate points. Code for the more
    functional core Beam Model concepts from Chapters 2 and 4, as well as the more
    imperative state and timers concepts in Chapter 7, is available online at [*http://github.com/takidau/streamingbook*](http://github.com/takidau/streamingbook).
    Since understanding semantics is the main goal, the code is provided primarily
    as Beam `PTransform`/`DoFn` implementations and accompanying unit tests. There
    is also a single standalone pipeline implementation to illustrate the delta between
    a unit test and a real pipeline. The code layout is as follows:'
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这本书在很大程度上是概念性的，但在整个过程中使用了许多代码和伪代码片段来帮助说明观点。来自第2章和第4章更功能核心Beam模型概念的代码，以及第7章更命令式状态和定时器概念的代码，都可以在[*http://github.com/takidau/streamingbook*](http://github.com/takidau/streamingbook)上找到。由于理解语义是主要目标，代码主要以Beam
    `PTransform`/`DoFn`实现和相应的单元测试提供。还有一个独立的管道实现，用来说明单元测试和真实管道之间的差异。代码布局如下：
- en: '[src/main/java/net/streamingbook/BeamModel.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/BeamModel.java)'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/BeamModel.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/BeamModel.java)'
- en: Beam `PTransform` implementations of Examples 2-1 through 2-9 and Example 4-3,
    each with an additional method returning the expected output when executed over
    the example datasets from those chapters.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 将Beam `PTransform`实现从第2-1到第2-9和第4-3的示例，每个示例都有一个额外的方法，在这些章节的示例数据集上执行时返回预期的输出。
- en: '[src/test/java/net/streamingbook/BeamModelTest.java](https://github.com/takidau/streamingbook/blob/master/src/test/java/net/streamingbook/BeamModelTest.java)'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/test/java/net/streamingbook/BeamModelTest.java](https://github.com/takidau/streamingbook/blob/master/src/test/java/net/streamingbook/BeamModelTest.java)'
- en: Unit tests verifying the example `PTransforms` in *BeamModel.java* via generated
    datasets matching those in the book.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 通过生成的数据集验证*BeamModel.java*中示例`PTransforms`的单元测试与书中的匹配。
- en: '[src/main/java/net/streamingbook/Example2_1.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/Example2_1.java)'
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/Example2_1.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/Example2_1.java)'
- en: Standalone version of the Example 2-1 pipeline that can be run locally or using
    a distributed Beam runner.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 可以在本地运行或使用分布式Beam运行程序的Example 2-1管道的独立版本。
- en: '[src/main/java/net/streamingbook/inputs.csv](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/inputs.csv)'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/inputs.csv](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/inputs.csv)'
- en: Sample input file for *Example2_1.java* containing the dataset from the book.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '*Example2_1.java*的示例输入文件，其中包含了书中的数据集。'
- en: '[src/main/java/net/streamingbook/StateAndTimers.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/StateAndTimers.java)'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/StateAndTimers.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/StateAndTimers.java)'
- en: Beam code implementing the conversion attribution example from Chapter 7 using
    Beam’s state and timers primitives.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 使用Beam的状态和定时器原语实现的第7章转换归属示例的Beam代码。
- en: '[src/test/java/net/streamingbook/StateAndTimersTest.java](https://github.com/takidau/streamingbook/blob/master/src/test/java/net/streamingbook/StateAndTimersTest.java)'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/test/java/net/streamingbook/StateAndTimersTest.java](https://github.com/takidau/streamingbook/blob/master/src/test/java/net/streamingbook/StateAndTimersTest.java)'
- en: Unit test verifying the conversion attribution `DoFn`s from *StateAndTimers.java*.
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 通过*StateAndTimers.java*验证转换归属`DoFn`的单元测试。
- en: '[src/main/java/net/streamingbook/ValidityWindows.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/ValidityWindows.java)'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/ValidityWindows.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/ValidityWindows.java)'
- en: Temporal validity windows implementation.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 时间有效窗口实现。
- en: '[src/main/java/net/streamingbook/Utils.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/Utils.java)'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '[src/main/java/net/streamingbook/Utils.java](https://github.com/takidau/streamingbook/blob/master/src/main/java/net/streamingbook/Utils.java)'
- en: Shared utility methods.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 共享的实用方法。
- en: This book is here to help you get your job done. In general, if example code
    is offered with this book, you may use it in your programs and documentation.
    You do not need to contact us for permission unless you’re reproducing a significant
    portion of the code. For example, writing a program that uses several chunks of
    code from this book does not require permission. Selling or distributing a CD-ROM
    of examples from O’Reilly books does require permission. Answering a question
    by citing this book and quoting example code does not require permission. Incorporating
    a significant amount of example code from this book into your product’s documentation
    does require permission.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书是为了帮助你完成工作。一般来说，如果本书提供了示例代码，您可以在您的程序和文档中使用它。除非您复制了大部分代码，否则您无需联系我们以获得许可。例如，编写一个使用本书中几个代码片段的程序不需要许可。出售或分发O’Reilly图书示例的CD-ROM需要许可。通过引用本书回答问题并引用示例代码不需要许可。将本书中大量示例代码合并到产品文档中需要许可。
- en: 'We appreciate, but do not require, attribution. An attribution usually includes
    the title, author, publisher, and ISBN. For example: “*Streaming Systems* by Tyler
    Akidau, Slava Chernyak, and Reuven Lax (O’Reilly). Copyright 2018 O’Reilly Media,
    Inc., 978-1-491-98387-4.”'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感激，但不需要归属。归属通常包括标题、作者、出版商和ISBN。例如：“*Streaming Systems* by Tyler Akidau, Slava
    Chernyak, and Reuven Lax (O’Reilly). Copyright 2018 O’Reilly Media, Inc., 978-1-491-98387-4.”
- en: If you feel your use of code examples falls outside fair use or the permission
    given above, feel free to contact us at *permissions@oreilly.com*.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您觉得您对代码示例的使用超出了公平使用范围或上述给出的许可，请随时通过*permissions@oreilly.com*与我们联系。
- en: O’Reilly Safari
  id: totrans-78
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: O’Reilly Safari
- en: Note
  id: totrans-79
  prefs:
  - PREF_H6
  type: TYPE_NORMAL
  zh: 注意
- en: '[*Safari*](http://oreilly.com/safari) (formerly Safari Books Online) is a membership-based
    training and reference platform for enterprise, government, educators, and individuals.'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: '[*Safari*](http://oreilly.com/safari)（原Safari Books Online）是一个面向企业、政府、教育工作者和个人的会员制培训和参考平台。'
- en: Members have access to thousands of books, training videos, Learning Paths,
    interactive tutorials, and curated playlists from over 250 publishers, including
    O’Reilly Media, Harvard Business Review, Prentice Hall Professional, Addison-Wesley
    Professional, Microsoft Press, Sams, Que, Peachpit Press, Adobe, Focal Press,
    Cisco Press, John Wiley & Sons, Syngress, Morgan Kaufmann, IBM Redbooks, Packt,
    Adobe Press, FT Press, Apress, Manning, New Riders, McGraw-Hill, Jones & Bartlett,
    and Course Technology, among others.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 会员可以访问来自250多家出版商的数千本图书、培训视频、学习路径、交互式教程和精选播放列表，包括O’Reilly Media、哈佛商业评论、Prentice
    Hall专业、Addison-Wesley专业、微软出版社、Sams、Que、Peachpit出版社、Adobe、Focal Press、思科出版社、约翰威利与儿子、Syngress、Morgan
    Kaufmann、IBM Redbooks、Packt、Adobe Press、FT Press、Apress、Manning、New Riders、麦格劳希尔、琼斯与巴特利特等等。
- en: For more information, please visit [*http://www.oreilly.com/safari*](http://www.oreilly.com/safari).
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 有关更多信息，请访问[*http://www.oreilly.com/safari*](http://www.oreilly.com/safari)。
- en: How to Contact Us
  id: totrans-83
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何联系我们
- en: 'Please address comments and questions concerning this book to the publisher:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 请将有关本书的评论和问题发送给出版商：
- en: O’Reilly Media, Inc.
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: O’Reilly Media, Inc.
- en: 1005 Gravenstein Highway North
  id: totrans-86
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 1005 Gravenstein Highway North
- en: Sebastopol, CA 95472
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sebastopol, CA 95472
- en: 800-998-9938 (in the United States or Canada)
  id: totrans-88
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 800-998-9938（在美国或加拿大）
- en: 707-829-0515 (international or local)
  id: totrans-89
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 707-829-0515（国际或本地）
- en: 707-829-0104 (fax)
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 707-829-0104（传真）
- en: We have a web page for this book, where we list errata, examples, and any additional
    information. You can access this page at [*http://bit.ly/streaming-systems*](http://bit.ly/streaming-systems).
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 我们为这本书创建了一个网页，列出勘误、示例和任何其他信息。您可以访问[*http://bit.ly/streaming-systems*](http://bit.ly/streaming-systems)。
- en: To comment or ask technical questions about this book, send email to *bookquestions@oreilly.com*.
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 要就本书发表评论或提出技术问题，请发送电子邮件至*bookquestions@oreilly.com*。
- en: For more information about our books, courses, conferences, and news, see our
    website at [*http://www.oreilly.com*](http://www.oreilly.com).
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 有关我们的图书、课程、会议和新闻的更多信息，请访问我们的网站[*http://www.oreilly.com*](http://www.oreilly.com)。
- en: 'Find us on Facebook: [*http://facebook.com/oreilly*](http://facebook.com/oreilly)'
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 在Facebook上找到我们：[*http://facebook.com/oreilly*](http://facebook.com/oreilly)
- en: 'Follow us on Twitter: [*http://twitter.com/oreillymedia*](http://twitter.com/oreillymedia)'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在Twitter上关注我们：[*http://twitter.com/oreillymedia*](http://twitter.com/oreillymedia)
- en: 'Watch us on YouTube: [*http://www.youtube.com/oreillymedia*](http://www.youtube.com/oreillymedia)'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 在YouTube上观看我们：[*http://www.youtube.com/oreillymedia*](http://www.youtube.com/oreillymedia)
- en: Acknowledgments
  id: totrans-97
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 致谢
- en: 'Last, but certainly not least: many people are awesome, and we would like to
    acknowledge a specific subset of them here for their help in creating this tome.'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，但肯定不是最不重要的：许多人都很棒，我们想在这里特别感谢其中的一部分人，因为他们在创建这本书时提供了帮助。
- en: The content in this book distills the work of an untold number of extremely
    smart individuals across Google, the industry, and academia at large. We owe them
    all a sincere expression of gratitude and regret that we could not possibly list
    them all here, even if we tried, which we will not.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书中的内容汇集了Google、行业和学术界的无数聪明人的工作。我们要向他们表示真诚的感激之情，并为我们无法在这里列出所有人而感到遗憾，即使我们尝试过，我们也不会这样做。
- en: 'Among our colleagues at Google, much credit goes to everyone in the DataPLS
    team (and its various ancestor teams: Flume, MillWheel, MapReduce, et al.), who’ve
    helped bring so many of these ideas to life over the years. In particular, we’d
    like to thank:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 在Google的同事中，DataPLS团队（以及其各种祖先团队：Flume、MillWheel、MapReduce等）的每个人多年来都帮助实现了这么多想法，因此我们要非常感谢他们。特别是，我们要感谢：
- en: 'Paul Nordstrom and the rest of the MillWheel team from the Golden Age of MillWheel:
    Alex Amato, Alex Balikov, Kaya Bekiroğlu, Josh Haberman, Tim Hollingsworth, Ilya
    Maykov, Sam McVeety, Daniel Mills, and Sam Whittle for envisioning and building
    such a comprehensive, robust, and scalable set of low-level primitives on top
    of which we were later able to construct the higher-level models discussed in
    this book. Without their vision and skill, the world of massive-scale stream processing
    would look very different.'
  id: totrans-101
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Nordstrom和黄金时代的MillWheel团队的其他成员：Alex Amato、Alex Balikov、Kaya Bekiroğlu、Josh
    Haberman、Tim Hollingsworth、Ilya Maykov、Sam McVeety、Daniel Mills和Sam Whittle，因为他们构想并构建了一套全面、强大和可扩展的低级原语，我们后来能够在此基础上构建本书中讨论的高级模型。如果没有他们的愿景和技能，大规模流处理的世界将会大不相同。
- en: Craig Chambers, Frances Perry, Robert Bradshaw, Ashish Raniwala, and the rest
    of the Flume team of yore for envisioning and creating the expressive and powerful
    data processing foundation that we were later able to unify with the world of
    streaming.
  id: totrans-102
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Craig Chambers、Frances Perry、Robert Bradshaw、Ashish Raniwala和昔日Flume团队的其他成员，因为他们构想并创建了富有表现力和强大的数据处理基础，后来我们能够将其与流媒体世界统一起来。
- en: Sam McVeety for lead authoring the original MillWheel paper, which put our amazing
    little project on the map for the very first time.
  id: totrans-103
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Sam McVeety因为他是最初的MillWheel论文的主要作者，这让我们了不起的小项目第一次出现在人们的视野中。
- en: Grzegorz Czajkowski for repeatedly supporting our evangelization efforts, even
    as competing deadlines and priorities loomed.
  id: totrans-104
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Grzegorz Czajkowski多次支持我们的传教工作，即使竞争的最后期限和优先事项也在逼近。
- en: Looking more broadly, a huge amount of credit is due to everyone in the Apache
    Beam, Calcite, Kafka, Flink, Spark, and Storm communities. Each and every one
    of these projects has contributed materially to advancing the state of the art
    in stream processing for the world at large over the past decade. Thank you.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 更广泛地看，Apache Beam、Calcite、Kafka、Flink、Spark和Storm社区的每个人都应该得到很多的赞扬。在过去的十年里，这些项目每一个都在推动流处理技术的发展。谢谢。
- en: 'To shower gratitude a bit more specifically, we would also like to thank:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 为了更具体地表达感激之情，我们还要感谢：
- en: Martin Kleppmann, for leading the charge in advocating for the streams-and-tables
    way of thinking, and also for investing a huge amount of time providing piles
    of insightful technical and editorial input on the drafts of every chapter in
    this book. All this in addition to being an inspiration and all-around great guy.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 马丁·克莱普曼，领导倡导流和表思维的努力，并且在这本书的每一章的草稿中提供了大量有见地的技术和编辑意见。所有这些都是在成为一个灵感和全面优秀的人的同时完成的。
- en: Julian Hyde, for his insightful vision and infectious passion for streaming
    SQL.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 朱利安·海德，因为他对流SQL的深刻远见和对流处理的热情。
- en: Jay Kreps, for fighting the good fight against Lambda Architecture tyranny;
    it was your original [“Questioning the Lambda Architecture”](https://www.oreilly.com/ideas/questioning-the-lambda-architecture)
    post that got Tyler pumped enough to go out and join the fray, as well.
  id: totrans-109
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 杰伊·克雷普斯，为了与Lambda架构暴政作斗争而不懈努力；正是你最初的[“质疑Lambda架构”](https://www.oreilly.com/ideas/questioning-the-lambda-architecture)帖子让泰勒兴奋地加入了这场战斗。
- en: Stephan Ewen, Kostas Tzoumas, Fabian Hueske, Aljoscha Krettek, Robert Metzger,
    Kostas Kloudas, Jamie Grier, Max Michels, and the rest of the data Artisans extended
    family, past and present, for always pushing the envelope of what’s possible in
    stream processing, and doing so in a consistently open and collaborative way.
    The world of streaming is a much better place thanks to all of you.
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 斯蒂芬·伊文，科斯塔斯·佐马斯，法比安·休斯克，阿尔约夏·克雷特克，罗伯特·梅茨格，科斯塔斯·克劳达斯，杰米·格里尔，马克斯·米切尔斯和数据工匠的整个家族，过去和现在，总是以一种一贯开放和合作的方式推动流处理的可能性。由于你们所有人，流媒体的世界变得更美好。
- en: Jesse Anderson, for his diligent reviews and for all the hugs. If you see Jesse,
    give him a big hug for me.
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 杰西·安德森，感谢他的认真审查和所有的拥抱。如果你见到杰西，替我给他一个大大的拥抱。
- en: Danny Yuan, Sid Anand, Wes Reisz, and the amazing QCon developer conference,
    for giving us our first opportunity to talk publicly within the industry about
    our work, at QCon San Francisco 2014.
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 丹尼·袁，西德·阿南德，韦斯·雷斯和令人惊叹的QCon开发者大会，让我们有机会在行业内公开讨论我们的工作，2014年在QCon旧金山。
- en: Ben Lorica at O’Reilly and the iconic Strata Data Conference, for being repeatedly
    supportive of our efforts to evangelize stream processing, be it online, in print,
    or in person.
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 奥莱利的本·洛里卡和标志性的Strata数据大会，一直支持我们的努力，无论是在线、印刷还是亲自传播流处理的理念。
- en: 'The entire Apache Beam community, and in particular our fellow committers,
    for helping push forward the Beam vision: Ahmet Altay, Amit Sela, Aviem Zur, Ben
    Chambers, Griselda Cuevas, Chamikara Jayalath, Davor Bonaci, Dan Halperin, Etienne
    Chauchot, Frances Perry, Ismaël Mejía, Jason Kuster, Jean-Baptiste Onofré, Jesse
    Anderson, Eugene Kirpichov, Josh Wills, Kenneth Knowles, Luke Cwik, Jingsong Lee,
    Manu Zhang, Melissa Pashniak, Mingmin Xu, Max Michels, Pablo Estrada, Pei He,
    Robert Bradshaw, Stephan Ewen, Stas Levin, Thomas Groh, Thomas Weise, and James
    Xu.'
  id: totrans-114
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 整个Apache Beam社区，特别是我们的同行，帮助推动Beam的愿景：阿赫梅特·阿尔塔伊，阿米特·塞拉，阿维姆·祖尔，本·张伯斯，格里斯尔达·奎瓦斯，查米卡拉·贾亚拉斯，达沃尔·博纳奇，丹·哈尔佩林，艾蒂安·肖肖，弗朗西斯·佩里，伊斯梅尔·梅希亚，杰森·卡斯特，让-巴蒂斯特·奥诺弗雷，杰西·安德森，尤金·基尔皮科夫，乔什·威尔斯，肯尼斯·诺尔斯，卢克·克维克，李静松，曼努·张，梅丽莎·帕什尼亚克，徐明敏，马克斯·米切尔斯，巴勃罗·埃斯特拉达，裴赫，罗伯特·布拉德肖，斯蒂芬·伊文，斯塔斯·莱文，托马斯·格罗，托马斯·韦斯和詹姆斯·徐。
- en: 'No acknowledgments section would be complete without a nod to the otherwise
    faceless cohort of tireless reviewers whose insightful comments helped turn garbage
    into awesomeness: Jesse Anderson, Grzegorz Czajkowski, Marián Dvorský, Stephan
    Ewen, Rafael J. Fernández-Moctezuma, Martin Kleppmann, Kenneth Knowles, Sam McVeety,
    Mosha Pasumansky, Frances Perry, Jelena Pjesivac-Grbovic, Jeff Shute, and William
    Vambenepe. You are the Mr. Fusion to our DeLorean Time Machine. That had a nicer
    ring to it in my head—see, this is what I’m talking about.'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 没有致谢部分会完整无缺，没有对那些不知疲倦的审阅者的致谢，他们的深刻评论帮助我们将垃圾变成了精彩：杰西·安德森，格热戈日·查约夫斯基，马里安·德沃尔斯基，斯蒂芬·伊文，拉斐尔·J·费尔南德斯-莫克特苏马，马丁·克莱普曼，肯尼斯·诺尔斯，山姆·麦克维蒂，莫沙·帕苏曼斯基，弗朗西斯·佩里，杰莲娜·皮耶西瓦克-格博维奇，杰夫·舒特和威廉·万贝内普。你们是我们的德洛雷安时光机的弗尼斯先生。这在我脑海中听起来更好——看，这就是我所说的。
- en: 'And of course, a big thanks to our authoring and production support team:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 当然，还要感谢我们的作者和制作支持团队：
- en: Marie Beaugureau, our original editor, for all of her help and support in getting
    this project off the ground and her everlasting patience with my persistent desire
    to subvert editorial norms. We miss you!
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 玛丽·博戈，我们最初的编辑，为了帮助和支持我们启动这个项目，并对我持续颠覆编辑规范的坚持耐心。我们想念你！
- en: Jeff Bleiel, our editor 2.0, for taking over the reins and helping us land this
    monster of a project and his everlasting patience with our inability to meet even
    the most modest of deadlines. We made it!
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 杰夫·布莱尔，我们的编辑2.0，接管了这个庞大的项目，并对我们甚至不能满足最低限度的截止日期的无能耐心。我们成功了！
- en: Bob Russell, our copy editor, for reading our book more closely than anyone
    should ever have to. I tip my hat to your masterful command of grammar, punctuation,
    vocabulary, and Adobe Acrobat annotations.
  id: totrans-119
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 鲍勃·拉塞尔，我们的副本编辑，比任何人都更仔细地阅读了我们的书。我向你致敬，你对语法、标点、词汇和Adobe Acrobat批注的精湛掌握。
- en: Nick Adams, our intrepid production editor, for helping tame a mess of totally
    sketchy HTMLBook code into a print-worthy thing of beauty and for not getting
    mad at me when I asked him to manually ignore Bob’s many, many individual suggestions
    to switch our usage of the term “data” from plural to singular. You’ve managed
    to make this book look even better than I’d hoped for, thank you.
  id: totrans-120
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 尼克·亚当斯，我们勇敢的制作编辑，帮助将一团混乱的HTMLBook代码整理成一本值得印刷的美丽之物，当我要求他手动忽略鲍勃提出的许多建议时，他并没有生气，这些建议是要将我们对“数据”一词的使用从复数改为单数。你让这本书看起来比我希望的还要好，谢谢你。
- en: Ellen Troutman-Zaig, our indexer, for somehow weaving a tangled web of offhand
    references into a useful and comprehensive index. I stand in awe at your attention
    to detail.
  id: totrans-121
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 埃伦·特劳特曼-扎格，我们的索引制作人，以某种方式将一堆随意的参考文献编织成一个有用而全面的索引。我对你的细节关注感到敬畏。
- en: Rebecca Panzer, our illustrator, for beautifying our static diagrams and for
    assuring Nick that I didn’t need to spend more weekends figuring out how to refactor
    my animated LaTeX diagrams to have larger fonts. Phew x2!
  id: totrans-122
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的插图师Rebecca Panzer，美化我们的静态图表，并向Nick保证我不需要再花更多周末来想办法重构我的动画LaTeX图表以获得更大的字体。呼～2次！
- en: Kim Cofer, our proofreader, for pointing out how sloppy and inconsistent we
    were so others wouldn’t have to.
  id: totrans-123
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我们的校对者Kim Cofer指出我们的懒散和不一致，这样其他人就不必这样做了。
- en: 'Tyler would like to thank:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: Tyler想要感谢：
- en: My coauthors, Reuven Lax and Slava Chernyak, for bringing their ideas and chapters
    to life in ways I never could have.
  id: totrans-125
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的合著者Reuven Lax和Slava Chernyak，以他们的想法和章节的方式将它们变得生动起来，这是我无法做到的。
- en: George Bradford Emerson II, for the Sean Connery inspiration. That’s my favorite
    joke in the book and we haven’t even gotten to the first chapter yet. It’s all
    downhill from here, folks.
  id: totrans-126
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: George Bradford Emerson II，为肖恩·康纳利的灵感。这是我在书中最喜欢的笑话，而我们甚至还没有到第一章。从这里开始，一切都是下坡路。
- en: Rob Schlender, for the amazing bottle of scotch he’s going to buy me shortly
    before robots take over the world. Here’s to going down in style!
  id: totrans-127
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Rob Schlender，为他即将在机器人接管世界之前给我买的惊人的威士忌。为了以优雅的方式离开！
- en: My uncle, Randy Bowen, for making sure I discovered just how much I love computers
    and, in particular, that homemade POV-Ray 2.x floppy disk that opened up a whole
    new world for me.
  id: totrans-128
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的叔叔Randy Bowen，确保我发现了我有多么喜欢计算机，特别是那张自制的POV-Ray 2.x软盘，为我打开了一个全新的世界。
- en: My parents, David and Marty Dauwalder, without whose dedication and unbelievable
    perseverance none of this would have ever been possible. You’re the best parents
    ever, for reals!
  id: totrans-129
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的父母David和Marty Dauwalder，没有他们的奉献和难以置信的毅力，这一切都不可能。你们是最好的父母，真的！
- en: Dr. David L. Vlasuk, without whom I simply wouldn’t be here today. Thanks for
    everything, Dr. V.
  id: totrans-130
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Dr. David L. Vlasuk，没有他我今天就不会在这里。感谢一切，V博士。
- en: My wonderful family, Shaina, Romi, and Ione Akidau for their unwavering support
    in completing this levianthantine effort, despite the many nights and weekends
    we spent apart as a result. I love you always.
  id: totrans-131
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的美好家庭，Shaina，Romi和Ione Akidau，他们在完成这项艰巨的工作中给予了坚定的支持，尽管我们因此分开度过了许多个夜晚和周末。我永远爱你们。
- en: 'My faithful writing partner, Kiyoshi: even though you only slept and barked
    at postal carriers the entire time we worked on the book together, you did so
    flawlessly and seemingly without effort. You are a credit to your species.'
  id: totrans-132
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 我的忠实写作伙伴Kiyoshi：尽管我们一起写书的整个时间里你只是睡觉和对邮递员吠叫，但你做得无可挑剔，似乎毫不费力。你是你的物种的光荣。
- en: 'Slava would like to thank:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: Slava想要感谢：
- en: Josh Haberman, Sam Whittle, and Daniel Mills for being codesigners and cocreators
    of watermarks in MillWheel and subsequently Streaming Dataflow as well as many
    other parts of these systems. Systems as complex as these are never designed in
    a vacuum, and without all of the thoughts and hard work that each of you put in,
    we would not be here today.
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Josh Haberman，Sam Whittle和Daniel Mills因为是MillWheel和随后的Streaming Dataflow中水印的共同设计者和共同创造者，以及这些系统的许多其他部分。这样复杂的系统从来不是在真空中设计的，如果不是你们每个人投入的所有思想和辛勤工作，我们今天就不会在这里。
- en: Stephan Ewen of data Artisans for helping shape my thoughts and understanding
    of the watermark implementation in Apache Flink.
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: data Artisans的Stephan Ewen，帮助我塑造了我对Apache Flink中水印实现的思想和理解。
- en: 'Reuven would like to thank:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: Reuven想要感谢：
- en: Paul Nordstrom for his vision, Sam Whittle, Sam McVeety, Slava Chernyak, Josh
    Haberman, Daniel Mills, Kaya Bekiroğlu, Alex Balikov, Tim Hollingsworth, Alex
    Amato, and Ilya Maykov for all their efforts in building the original MillWheel
    system and writing the subsequent paper.
  id: totrans-137
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Paul Nordstrom因他的远见，Sam Whittle，Sam McVeety，Slava Chernyak，Josh Haberman，Daniel
    Mills，Kaya Bekiroğlu，Alex Balikov，Tim Hollingsworth，Alex Amato和Ilya Maykov因他们在构建原始MillWheel系统和撰写随后的论文中所做的努力。
- en: Stephan Ewen of data Artisans for his help reviewing the chapter on exactly-once
    semantics, and valuable feedback on the inner workings of Apache Flink.
  id: totrans-138
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: data Artisans的Stephan Ewen在审阅关于一次性语义的章节和对Apache Flink内部工作的宝贵反馈中的帮助。
- en: Lastly, we would all like to thank *you*, glorious reader, for being willing
    to spend real money on this book to hear us prattle on about the cool stuff we
    get to build and play with. It’s been a joy writing it all down, and we’ve done
    our best to make sure you’ll get your money’s worth. If for some reason you don’t
    like it...well hopefully you bought the print edition so you can at least throw
    it across the room in disgust before you sell it at a used bookstore. Watch out
    for the cat.³
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们都想感谢*你*，光荣的读者，愿意花真钱买这本书来听我们唠叨我们可以构建和玩耍的酷东西。写下这一切是一种快乐，我们已经尽力确保你物有所值。如果出于某种原因你不喜欢它...希望你至少买了印刷版，这样你至少可以在愤怒中把它扔到房间的另一边，然后在二手书店卖掉。小心猫。³
- en: ¹ Which incidentally is what we requested our animal book cover be, but O’Reilly
    felt it wouldn’t translate well into line art. I respectfully disagree, but a
    brown trout is a fair compromise.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: ¹ 顺便说一句，这正是我们要求我们的动物书封面的样子，但O'Reilly觉得它在线插图中不会很好表现。我尊重地不同意，但一条棕色的鳟鱼是一个公平的妥协。
- en: ² Or DataPLS, pronounced Datapals—get it?
  id: totrans-141
  prefs: []
  type: TYPE_NORMAL
  zh: ² 或者DataPLS，发音为Datapals——明白了吗？
- en: ³ Or don’t. I actually don’t like cats.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: ³ 或者不要。我实际上不喜欢猫。
