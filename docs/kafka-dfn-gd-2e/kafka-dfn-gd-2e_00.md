# 第二版前言

*Kafka：权威指南*的第一版是五年前出版的。当时，我们估计 Apache Kafka 在财富 500 强公司中被使用的比例为 30%。如今，超过 70%的财富 500 强公司正在使用 Apache Kafka。它仍然是世界上最受欢迎的开源项目之一，并且处于一个庞大生态系统的中心。

为什么这么兴奋？我认为这是因为我们的基础设施中存在着巨大的数据空白。传统上，数据管理主要是关于存储——文件存储和数据库，它们可以保护我们的数据并让我们在正确的时间查找到正确的数据。大量的智力能量和商业投资已经被投入到这些系统中。但是，一个现代公司不仅仅是一个拥有一个数据库的软件。一个现代公司是一个由数百甚至数千个定制应用程序、微服务、数据库、SaaS 层和分析平台构建而成的极其复杂的系统。而且，我们面临的问题越来越多地是如何将所有这些连接起来，并使其实时协同工作。

这个问题不是关于管理静态数据，而是关于管理动态数据。而在这种运动的核心就是 Apache Kafka，它已经成为任何动态数据平台的事实基础。

在这个过程中，Kafka 并没有停滞不前。它最初作为一个简陋的提交日志，也在不断发展：增加了连接器和流处理能力，并在这一过程中重新构建了自己的架构。社区不仅发展了现有的 API、配置选项、指标和工具，以改进 Kafka 的可用性和可靠性，而且我们还引入了一个新的编程管理 API，全局复制和 DR 的下一代 MirrorMaker 2.0，基于 Raft 的共识协议，允许在单个可执行文件中运行 Kafka，并支持分层存储。也许最重要的是，我们通过添加对高级安全选项（身份验证、授权和加密）的支持，使 Kafka 成为关键企业用例中的不二选择。

随着 Kafka 的发展，我们也看到了用例的演变。当第一版出版时，大多数 Kafka 安装仍然在传统的本地数据中心中使用传统的部署脚本。最受欢迎的用例是 ETL 和消息传递；流处理用例仍在迈出第一步。五年后，大多数 Kafka 安装都在云上，并且许多正在 Kubernetes 上运行。ETL 和消息传递仍然很受欢迎，但它们也被事件驱动的微服务、实时流处理、物联网、机器学习管道以及数百种行业特定的用例和模式所取代，这些用例和模式从保险公司的索赔处理到银行的交易系统，再到帮助实时游戏和视频流服务中的个性化等各种用例。

即使 Kafka 扩展到新的环境和用例，编写能够很好地使用 Kafka 并自信地在生产环境中部署它的应用程序需要适应 Kafka 独特的思维方式。本书涵盖了开发人员和 SRE 需要充分利用 Kafka 的一切潜力的内容，从最基本的 API 和配置到最新和最尖端的功能。它不仅涵盖了您可以使用 Kafka 做什么以及如何做，还包括了不应该做什么以及要避免的反模式。这本书可以成为新用户和有经验的从业者信赖的指南，带领他们进入 Kafka 的世界。

Jay Kreps

Confluent 的联合创始人兼首席执行官
